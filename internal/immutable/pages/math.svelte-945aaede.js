var Ce=Object.defineProperty,Te=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var de=(a,e,t)=>e in a?Ce(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,B=(a,e)=>{for(var t in e||(e={}))je.call(e,t)&&de(a,t,e[t]);if(pe)for(var t of pe(e))Ve.call(e,t)&&de(a,t,e[t]);return a},H=(a,e)=>Te(a,Ne(e));import{S as Q,i as ee,s as te,e as y,k as R,N as De,c as x,a as w,d as p,m as $,Z as O,b as f,F as g,g as E,E as L,v as re,$ as se,t as V,h as A,a1 as Ae,O as Y,j as q,n as F,o as G,p as X,q as N,U as Me,L as le,w as ae,x as oe,y as ne,B as ie,V as Ie,u as Ge,I as K,J as Z,al as W,W as ve,l as me}from"../chunks/index-b92f0203.js";import{l as J}from"../chunks/store-06e9ac32.js";import{T as Le}from"../chunks/TippyStyles-f191e2a6.js";import{u as _e,t as Oe}from"../chunks/tooltip-f617373c.js";import"../chunks/index-c9376b27.js";function qe(a){let e,t,r,l,i,s,h,o;return{c(){e=y("script"),r=y("script"),i=y("script"),h=R(),o=y("canvas"),this.h()},l(u){const c=De('[data-svelte="svelte-1i3dr7q"]',document.head);e=x(c,"SCRIPT",{src:!0});var n=w(e);n.forEach(p),r=x(c,"SCRIPT",{src:!0});var d=w(r);d.forEach(p),i=x(c,"SCRIPT",{src:!0});var v=w(i);v.forEach(p),c.forEach(p),h=$(u),o=x(u,"CANVAS",{class:!0}),w(o).forEach(p),this.h()},h(){O(e.src,t="https://cdn.jsdelivr.net/npm/chart.js")||f(e,"src",t),O(r.src,l="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8")||f(r,"src",l),r.defer=!0,O(i.src,s="https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js")||f(i,"src",s),i.defer=!0,f(o,"class","chart")},m(u,c){g(document.head,e),g(document.head,r),g(document.head,i),E(u,h,c),E(u,o,c),a[3](o)},p:L,i:L,o:L,d(u){p(e),p(r),p(i),u&&p(h),u&&p(o),a[3](null)}}}function Ue(a,e,t){let r,{limits:l={}}=e,{graphs:i=[]}=e;re(async()=>{const h=await _e(()=>window.Chart);fetch("https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js").then(o=>o.text()).then(eval).then(()=>{_e(()=>window.ChartZoom).then(()=>h.register(window.ChartZoom))}),new h(r,{type:"line",data:{datasets:i.map(o=>({label:o.name,tension:.3,pointRadius:0,borderColor:["#357B85"],data:o.points}))},options:{responsive:!0,scales:{y:{suggestedMin:l.minY,suggestedMax:l.maxY,type:"linear",position:"right"},x:{suggestedMin:l.minX,suggestedMax:l.maxX,type:"linear",position:"bottom"}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0}}},responsive:!0,maintainAspectRatio:!0}})});function s(h){se[h?"unshift":"push"](()=>{r=h,t(0,r)})}return a.$$set=h=>{"limits"in h&&t(1,l=h.limits),"graphs"in h&&t(2,i=h.graphs)},[r,l,i,s]}class Pe extends Q{constructor(e){super(),ee(this,e,Ue,qe,te,{limits:1,graphs:2})}}function ge(a,e,t){const r=a.slice();return r[6]=e[t],r}function be(a,e,t){const r=a.slice();return r[9]=e[t],r}function we(a,e,t){const r=a.slice();return r[12]=e[t],r}function ke(a){let e,t,r=a[0].allGraphData[0].actionName+"",l,i,s,h,o,u,c,n,d,v;function m(b,M){return b[1]?Be:He}let _=m(a),k=_(a);const S=[Je,We],z=[];function D(b,M){return b[1]?0:1}return u=D(a),c=z[u]=S[u](a),{c(){e=y("div"),t=y("h2"),l=V(r),i=R(),s=y("button"),k.c(),o=R(),c.c(),this.h()},l(b){e=x(b,"DIV",{class:!0});var M=w(e);t=x(M,"H2",{class:!0});var C=w(t);l=A(C,r),i=$(C),s=x(C,"BUTTON",{id:!0,class:!0});var j=w(s);k.l(j),j.forEach(p),C.forEach(p),o=$(M),c.l(M),M.forEach(p),this.h()},h(){f(s,"id","switch"),f(s,"class","svelte-13e5vsr"),f(t,"class","actionName graph_header svelte-13e5vsr"),f(e,"class","action svelte-13e5vsr")},m(b,M){E(b,e,M),g(e,t),g(t,l),g(t,i),g(t,s),k.m(s,null),g(e,o),z[u].m(e,null),n=!0,d||(v=[Ae(h=Oe.call(null,s,{content:"Toggle between interactive graph and image"})),Y(s,"click",a[4])],d=!0)},p(b,M){(!n||M&1)&&r!==(r=b[0].allGraphData[0].actionName+"")&&q(l,r),_!==(_=m(b))&&(k.d(1),k=_(b),k&&(k.c(),k.m(s,null)));let C=u;u=D(b),u===C?z[u].p(b,M):(F(),G(z[C],1,1,()=>{z[C]=null}),X(),c=z[u],c?c.p(b,M):(c=z[u]=S[u](b),c.c()),N(c,1),c.m(e,null))},i(b){n||(N(c),n=!0)},o(b){G(c),n=!1},d(b){b&&p(e),k.d(),z[u].d(),d=!1,Me(v)}}}function Be(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Z(r,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=Z(l,"path",{fill:!0,"fill-rule":!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){f(t,"fill","currentColor"),f(t,"fill-rule","evenodd"),f(t,"d","M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61l4.15-5.073a.5.5 0 0 1 .704-.07Z"),f(t,"class","svelte-13e5vsr"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"aria-hidden","true"),f(e,"role","img"),f(e,"class","iconify iconify--bi svelte-13e5vsr"),f(e,"width","32"),f(e,"height","32"),f(e,"preserveAspectRatio","xMidYMid meet"),f(e,"viewBox","0 0 16 16")},m(r,l){E(r,e,l),g(e,t)},d(r){r&&p(e)}}}function He(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Z(r,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=Z(l,"path",{fill:!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){f(t,"fill","currentColor"),f(t,"d","M19 19H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-5.04 9.29l-2.75 3.54l-1.96-2.36L6.5 17h11l-3.54-4.71Z"),f(t,"class","svelte-13e5vsr"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"aria-hidden","true"),f(e,"role","img"),f(e,"class","iconify iconify--mdi svelte-13e5vsr"),f(e,"width","32"),f(e,"height","32"),f(e,"preserveAspectRatio","xMidYMid meet"),f(e,"viewBox","0 0 24 24")},m(r,l){E(r,e,l),g(e,t)},d(r){r&&p(e)}}}function We(a){let e,t;return e=new Pe({props:{graphs:a[0].allGraphData[0].rawGraphData.curveData.map(Ee).flat().map(Se),limits:a[0].allGraphData[0].displayRange}}),{c(){ae(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,l){ne(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.graphs=r[0].allGraphData[0].rawGraphData.curveData.map(Ee).flat().map(Se)),l&1&&(i.limits=r[0].allGraphData[0].displayRange),e.$set(i)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Je(a){let e,t,r;return{c(){e=y("img"),this.h()},l(l){e=x(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){f(e,"class","graph svelte-13e5vsr"),O(e.src,t=a[0].allGraphData[0].graphImageData)||f(e,"src",t),f(e,"alt",r="Graph of "+a[0].detectedLatex)},m(l,i){E(l,e,i)},p(l,i){i&1&&!O(e.src,t=l[0].allGraphData[0].graphImageData)&&f(e,"src",t),i&1&&r!==(r="Graph of "+l[0].detectedLatex)&&f(e,"alt",r)},i:L,o:L,d(l){l&&p(e)}}}function ye(a){let e,t,r=a[12].prevExpression+"",l,i,s,h=a[12].expression+"",o,u,c,n=a[12].step+"",d;return{c(){e=y("div"),t=y("div"),l=V(r),i=R(),s=y("div"),o=V(h),u=R(),c=y("div"),d=V(n),this.h()},l(v){e=x(v,"DIV",{class:!0});var m=w(e);t=x(m,"DIV",{class:!0});var _=w(t);l=A(_,r),_.forEach(p),i=$(m),s=x(m,"DIV",{class:!0});var k=w(s);o=A(k,h),k.forEach(p),m.forEach(p),u=$(v),c=x(v,"DIV",{class:!0});var S=w(c);d=A(S,n),S.forEach(p),this.h()},h(){f(t,"class","from svelte-13e5vsr"),f(s,"class","to svelte-13e5vsr"),f(e,"class","from_to_container svelte-13e5vsr"),f(c,"class","text svelte-13e5vsr")},m(v,m){E(v,e,m),g(e,t),g(t,l),g(e,i),g(e,s),g(s,o),E(v,u,m),E(v,c,m),g(c,d)},p(v,m){m&1&&r!==(r=v[12].prevExpression+"")&&q(l,r),m&1&&h!==(h=v[12].expression+"")&&q(o,h),m&1&&n!==(n=v[12].step+"")&&q(d,n)},d(v){v&&p(e),v&&p(u),v&&p(c)}}}function xe(a){let e,t=a[9].templateName+"",r,l,i,s=a[9].steps,h=[];for(let o=0;o<s.length;o+=1)h[o]=ye(we(a,s,o));return{c(){e=y("h4"),r=V(t),l=R(),i=y("div");for(let o=0;o<h.length;o+=1)h[o].c();this.h()},l(o){e=x(o,"H4",{class:!0});var u=w(e);r=A(u,t),u.forEach(p),l=$(o),i=x(o,"DIV",{class:!0});var c=w(i);for(let n=0;n<h.length;n+=1)h[n].l(c);c.forEach(p),this.h()},h(){f(e,"class","solutionName svelte-13e5vsr"),f(i,"class","steps svelte-13e5vsr")},m(o,u){E(o,e,u),g(e,r),E(o,l,u),E(o,i,u);for(let c=0;c<h.length;c+=1)h[c].m(i,null)},p(o,u){if(u&1&&t!==(t=o[9].templateName+"")&&q(r,t),u&1){s=o[9].steps;let c;for(c=0;c<s.length;c+=1){const n=we(o,s,c);h[c]?h[c].p(n,u):(h[c]=ye(n),h[c].c(),h[c].m(i,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=s.length}},d(o){o&&p(e),o&&p(l),o&&p(i),le(h,o)}}}function ze(a){let e,t,r=a[6].actionName+"",l,i,s,h=a[6].solution+"",o,u,c=a[6].templateSteps,n=[];for(let d=0;d<c.length;d+=1)n[d]=xe(be(a,c,d));return{c(){e=y("div"),t=y("h2"),l=V(r),i=R(),s=y("div"),o=R();for(let d=0;d<n.length;d+=1)n[d].c();u=R(),this.h()},l(d){e=x(d,"DIV",{class:!0});var v=w(e);t=x(v,"H2",{class:!0});var m=w(t);l=A(m,r),m.forEach(p),i=$(v),s=x(v,"DIV",{class:!0});var _=w(s);_.forEach(p),o=$(v);for(let k=0;k<n.length;k+=1)n[k].l(v);u=$(v),v.forEach(p),this.h()},h(){f(t,"class","actionName svelte-13e5vsr"),f(s,"class","solution_text svelte-13e5vsr"),f(e,"class","action svelte-13e5vsr")},m(d,v){E(d,e,v),g(e,t),g(t,l),g(e,i),g(e,s),s.innerHTML=h,g(e,o);for(let m=0;m<n.length;m+=1)n[m].m(e,null);g(e,u)},p(d,v){if(v&1&&r!==(r=d[6].actionName+"")&&q(l,r),v&1&&h!==(h=d[6].solution+"")&&(s.innerHTML=h),v&1){c=d[6].templateSteps;let m;for(m=0;m<c.length;m+=1){const _=be(d,c,m);n[m]?n[m].p(_,v):(n[m]=xe(_),n[m].c(),n[m].m(e,u))}for(;m<n.length;m+=1)n[m].d(1);n.length=c.length}},d(d){d&&p(e),le(n,d)}}}function Ke(a){var u,c;let e,t,r,l,i;e=new Le({});let s=((c=(u=a[0].allGraphData)==null?void 0:u[0])==null?void 0:c.graphImageData)&&!a[3]&&ke(a),h=a[0].actions,o=[];for(let n=0;n<h.length;n+=1)o[n]=ze(ge(a,h,n));return{c(){ae(e.$$.fragment),t=R(),r=y("div"),s&&s.c(),l=R();for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){oe(e.$$.fragment,n),t=$(n),r=x(n,"DIV",{class:!0});var d=w(r);s&&s.l(d),l=$(d);for(let v=0;v<o.length;v+=1)o[v].l(d);d.forEach(p),this.h()},h(){f(r,"class","result_container")},m(n,d){ne(e,n,d),E(n,t,d),E(n,r,d),s&&s.m(r,null),g(r,l);for(let v=0;v<o.length;v+=1)o[v].m(r,null);a[5](r),i=!0},p(n,[d]){var v,m;if(((m=(v=n[0].allGraphData)==null?void 0:v[0])==null?void 0:m.graphImageData)&&!n[3]?s?(s.p(n,d),d&9&&N(s,1)):(s=ke(n),s.c(),N(s,1),s.m(r,l)):s&&(F(),G(s,1,1,()=>{s=null}),X()),d&1){h=n[0].actions;let _;for(_=0;_<h.length;_+=1){const k=ge(n,h,_);o[_]?o[_].p(k,d):(o[_]=ze(k),o[_].c(),o[_].m(r,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=h.length}},i(n){i||(N(e.$$.fragment,n),N(s),i=!0)},o(n){G(e.$$.fragment,n),G(s),i=!1},d(n){ie(e,n),n&&p(t),n&&p(r),s&&s.d(),le(o,n),a[5](null)}}}const Ee=a=>{var e;return((e=a.pointGroups)==null?void 0:e.length)>1?a.pointGroups.map(t=>H(B({},a),{pointGroups:[t]})):a},Se=a=>({name:a.curveExpression,points:a.pointGroups[0].points});function Ze(a,e,t){let r;Ie(a,J,u=>t(3,r=u));let{result:l={}}=e,i=!0,s=document.body;re(()=>{console.log("Result component: ",l)}),Ge(()=>{var u;console.log(window.renderMathInElement),(u=window==null?void 0:window.renderMathInElement)==null||u.call(window,s,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});const h=()=>t(1,i=!i);function o(u){se[u?"unshift":"push"](()=>{s=u,t(2,s)})}return a.$$set=u=>{"result"in u&&t(0,l=u.result)},[l,i,s,r,h,o]}class Fe extends Q{constructor(e){super(),ee(this,e,Ze,Ke,te,{result:0})}}function Xe(a){let e;function t(i,s){return i[2]&&i[2].value?et:Qe}let r=t(a),l=r(a);return{c(){e=y("div"),l.c(),this.h()},l(i){e=x(i,"DIV",{class:!0});var s=w(e);l.l(s),s.forEach(p),this.h()},h(){f(e,"class","prompt_message svelte-1uz514f")},m(i,s){E(i,e,s),l.m(e,null)},p(i,s){r!==(r=t(i))&&(l.d(1),l=r(i),l&&(l.c(),l.m(e,null)))},i:L,o:L,d(i){i&&p(e),l.d()}}}function Ye(a){let e,t,r,l;const i=[rt,tt],s=[];function h(o,u){return o[0].isError||o[3].isError?0:1}return e=h(a),t=s[e]=i[e](a),{c(){t.c(),r=me()},l(o){t.l(o),r=me()},m(o,u){s[e].m(o,u),E(o,r,u),l=!0},p(o,u){let c=e;e=h(o),e===c?s[e].p(o,u):(F(),G(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),N(t,1),t.m(r.parentNode,r))},i(o){l||(N(t),l=!0)},o(o){G(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Qe(a){let e;return{c(){e=V("Enter a math formula to solve!")},l(t){e=A(t,"Enter a math formula to solve!")},m(t,r){E(t,e,r)},d(t){t&&p(e)}}}function et(a){let e;return{c(){e=V("Click solve to try to solve!")},l(t){e=A(t,"Click solve to try to solve!")},m(t,r){E(t,e,r)},d(t){t&&p(e)}}}function tt(a){let e,t;return e=new Fe({props:{result:a[0]}}),{c(){ae(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,l){ne(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.result=r[0]),e.$set(i)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function rt(a){let e,t,r=(a[3].errorMessage||a[0].errorDisplayMessage||a[0].errorMessage||"Math invalid")+"",l;return{c(){e=y("span"),t=V("There was an error: "),l=V(r),this.h()},l(i){e=x(i,"SPAN",{class:!0});var s=w(e);t=A(s,"There was an error: "),l=A(s,r),s.forEach(p),this.h()},h(){f(e,"class","error svelte-1uz514f")},m(i,s){E(i,e,s),g(e,t),g(e,l)},p(i,s){s&9&&r!==(r=(i[3].errorMessage||i[0].errorDisplayMessage||i[0].errorMessage||"Math invalid")+"")&&q(l,r)},i:L,o:L,d(i){i&&p(e)}}}function st(a){let e,t,r,l,i,s,h,o,u,c,n,d,v,m,_,k,S,z,D,b,M;const C=[Ye,Xe],j=[];function ce(I,T){return I[0]?0:1}return S=ce(a),z=j[S]=C[S](a),{c(){e=y("script"),r=y("link"),l=y("script"),s=y("script"),o=R(),u=y("div"),c=y("div"),n=y("math-field"),d=R(),v=y("button"),m=V("Solve"),_=R(),k=y("div"),z.c(),this.h()},l(I){const T=De('[data-svelte="svelte-1e56vpb"]',document.head);e=x(T,"SCRIPT",{src:!0,class:!0});var P=w(e);P.forEach(p),r=x(T,"LINK",{rel:!0,href:!0,class:!0}),l=x(T,"SCRIPT",{src:!0,class:!0});var Re=w(l);Re.forEach(p),s=x(T,"SCRIPT",{src:!0,class:!0});var $e=w(s);$e.forEach(p),T.forEach(p),o=$(I),u=x(I,"DIV",{class:!0});var ue=w(u);c=x(ue,"DIV",{class:!0});var U=w(c);n=x(U,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),w(n).forEach(p),d=$(U),v=x(U,"BUTTON",{class:!0});var he=w(v);m=A(he,"Solve"),he.forEach(p),_=$(U),k=x(U,"DIV",{class:!0});var fe=w(k);z.l(fe),fe.forEach(p),U.forEach(p),ue.forEach(p),this.h()},h(){O(e.src,t="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||f(e,"src",t),f(e,"class","svelte-1uz514f"),f(r,"rel","stylesheet"),f(r,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),f(r,"class","svelte-1uz514f"),l.defer=!0,O(l.src,i="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||f(l,"src",i),f(l,"class","svelte-1uz514f"),s.defer=!0,O(s.src,h="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||f(s,"src",h),f(s,"class","svelte-1uz514f"),W(n,"smart-mode",""),W(n,"defaultmode","math"),W(n,"virtual-keyboard-mode","manual"),W(n,"class","svelte-1uz514f"),f(v,"class","solve svelte-1uz514f"),f(k,"class","result svelte-1uz514f"),f(c,"class","inner_container svelte-1uz514f"),f(u,"class","container svelte-1uz514f")},m(I,T){g(document.head,e),g(document.head,r),g(document.head,l),g(document.head,s),E(I,o,T),E(I,u,T),g(u,c),g(c,n),a[6](n),g(c,d),g(c,v),g(v,m),g(c,_),g(c,k),j[S].m(k,null),D=!0,b||(M=[Y(n,"input",a[5]),Y(v,"click",a[4])],b=!0)},p(I,[T]){let P=S;S=ce(I),S===P?j[S].p(I,T):(F(),G(j[P],1,1,()=>{j[P]=null}),X(),z=j[S],z?z.p(I,T):(z=j[S]=C[S](I),z.c()),N(z,1),z.m(k,null))},i(I){D||(N(z),D=!0)},o(I){G(z),D=!1},d(I){p(e),p(r),p(l),p(s),I&&p(o),I&&p(u),a[6](null),j[S].d(),b=!1,Me(M)}}}async function lt(a){const e=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,args:{headers:{"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`}}})}).then(t=>t.json()).then(t=>t.headers["set-cookie"].split("=")[1].split(";")[0]);return await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{method:"POST",headers:{accept:"application/json","accept-language":"en-US,en;q=0.9","cache-control":"no-cache","content-type":"application/json",pragma:"no-cache","sec-ch-ua":'"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Chrome OS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",cookie:`MUIDB=${e};MicrosoftApplicationsTelemetryFirstLaunchTime=${new Date(new Date-Math.random()*48*60*60*1e3).toISOString()}`,Referer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36","Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify({latexExpression:a,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:a,showCustomResult:!1})}})}).then(t=>t.json())}function at(a,e,t){let r;Ie(a,J,n=>t(7,r=n));let l=null,i=String.raw`x = 3, y = x^2`,s=null,h={};re(()=>{window.mathField=s,s.setValue(new URLSearchParams(location.search).get("q")||i),new URLSearchParams(location.search).get("q")&&setTimeout(o),s.setOptions(H(B({},s.getOptions()),{smartSuperscript:!0,onKeystroke(n,d,v){d==="ctrl+[KeyA]"&&n.executeCommand("selectAll");const m=String.raw`\left.\begin{cases}`,_=String.raw`\end{cases}\right.`,k=String.raw`\placeholder{New equation}`,S=String.raw`\\{${k}}${_}`;if(d==="shift+[Enter]"){let D=s.value;if(D.startsWith(m)){console.log({START:m,ENDCASES:_},D.includes(_));let b=D.replace(new RegExp(`^${z(m)}`),"").replace(new RegExp(`${z(_)}$`),"");console.log(b),n.setValue(`${m}${b}${S}`)}else{let b=s.position;n.setValue(m+`{${s.value}}`+S),t(2,s.position=b+7,s)}}function z(D){return D.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(d==="[Backspace]"){if(s.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){s.setValue("");return}let D=s.value,b=String.raw`\\ {}`;if(console.log({val:D},D.startsWith(m),D.endsWith(b+_),b+_),D.startsWith(m)&&(D.endsWith(b+_)||D.endsWith(b+" "+_))){let M=D.replace(new RegExp(`^${z(m)}`),"").replace(new RegExp(`${z(b)}[ \\\\]*${z(_)}$`),"");console.log(M);let C=s.position;s.setValue(`${m}${M}${_}`),t(2,s.position=C-3,s)}}return d==="ctrl+[Backspace]"&&n.setValue(""),(d==="ctrl+[Enter]"||d==="[Enter]")&&o(),!0},inlineShortcuts:H(B({},s.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function o(){ve(J,r=!0,r);let d=await lt(i);t(0,l=JSON.parse(JSON.parse(d.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),t(3,h=JSON.parse(d.json.results[0].tags[0].actions[0].customData)),console.log(h);let v=new URL(location),m=new URLSearchParams(location.search);m.set("q",l.detectedLatex),v.search=m,history.pushState({result:l},"Math solver",v),ve(J,r=!1,r)}const u=n=>t(1,i=n.target.value);function c(n){se[n?"unshift":"push"](()=>{s=n,t(2,s)})}return[l,i,s,h,o,u,c]}class ft extends Q{constructor(e){super(),ee(this,e,at,st,te,{})}}export{ft as default};
