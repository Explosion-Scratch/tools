var xe=Object.defineProperty,Ne=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var de=(a,e,t)=>e in a?xe(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,H=(a,e)=>{for(var t in e||(e={}))je.call(e,t)&&de(a,t,e[t]);if(fe)for(var t of fe(e))Ae.call(e,t)&&de(a,t,e[t]);return a},W=(a,e)=>Ne(a,Ve(e));import{S as Q,i as ee,s as te,e as E,k as C,N as Me,c as y,a as b,d as f,m as T,Z as q,b as p,F as g,g as D,E as O,v as se,$ as re,t as A,h as G,a1 as Ge,O as Y,j as U,n as F,o as L,p as X,q as V,U as Re,L as le,w as ae,x as ie,y as oe,B as ne,V as $e,u as Le,I as K,J as Z,al as z,W as me,l as _e}from"../chunks/index-6d454735.js";import{l as J}from"../chunks/store-036300f7.js";import{T as Oe}from"../chunks/TippyStyles-44d4363c.js";import{u as ve,t as qe}from"../chunks/tooltip-f617373c.js";import"../chunks/index-6fc5bc1a.js";function Ue(a){let e,t,s,l,n,r,h,i;return{c(){e=E("script"),s=E("script"),n=E("script"),h=C(),i=E("canvas"),this.h()},l(u){const c=Me('[data-svelte="svelte-1i3dr7q"]',document.head);e=y(c,"SCRIPT",{src:!0});var o=b(e);o.forEach(f),s=y(c,"SCRIPT",{src:!0});var d=b(s);d.forEach(f),n=y(c,"SCRIPT",{src:!0});var m=b(n);m.forEach(f),c.forEach(f),h=T(u),i=y(u,"CANVAS",{class:!0}),b(i).forEach(f),this.h()},h(){q(e.src,t="https://cdn.jsdelivr.net/npm/chart.js")||p(e,"src",t),q(s.src,l="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8")||p(s,"src",l),s.defer=!0,q(n.src,r="https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js")||p(n,"src",r),n.defer=!0,p(i,"class","chart")},m(u,c){g(document.head,e),g(document.head,s),g(document.head,n),D(u,h,c),D(u,i,c),a[3](i)},p:O,i:O,o:O,d(u){f(e),f(s),f(n),u&&f(h),u&&f(i),a[3](null)}}}function Pe(a,e,t){let s,{limits:l={}}=e,{graphs:n=[]}=e;se(async()=>{const h=await ve(()=>window.Chart);fetch("https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js").then(i=>i.text()).then(eval).then(()=>{ve(()=>window.ChartZoom).then(()=>h.register(window.ChartZoom))}),new h(s,{type:"line",data:{datasets:n.map(i=>({label:i.name,tension:.3,pointRadius:0,borderColor:["#357B85"],data:i.points}))},options:{responsive:!0,scales:{y:{suggestedMin:l.minY,suggestedMax:l.maxY,type:"linear",position:"right"},x:{suggestedMin:l.minX,suggestedMax:l.maxX,type:"linear",position:"bottom"}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0}}},responsive:!0,maintainAspectRatio:!0}})});function r(h){re[h?"unshift":"push"](()=>{s=h,t(0,s)})}return a.$$set=h=>{"limits"in h&&t(1,l=h.limits),"graphs"in h&&t(2,n=h.graphs)},[s,l,n,r]}class Be extends Q{constructor(e){super(),ee(this,e,Pe,Ue,te,{limits:1,graphs:2})}}function ge(a,e,t){const s=a.slice();return s[6]=e[t],s}function we(a,e,t){const s=a.slice();return s[9]=e[t],s}function be(a,e,t){const s=a.slice();return s[12]=e[t],s}function ke(a){let e,t,s=a[0].allGraphData[0].actionName+"",l,n,r,h,i,u,c,o,d,m;function _(w,R){return w[1]?He:We}let v=_(a),k=v(a);const I=[Je,ze],S=[];function M(w,R){return w[1]?0:1}return u=M(a),c=S[u]=I[u](a),{c(){e=E("div"),t=E("h2"),l=A(s),n=C(),r=E("button"),k.c(),i=C(),c.c(),this.h()},l(w){e=y(w,"DIV",{class:!0});var R=b(e);t=y(R,"H2",{class:!0});var x=b(t);l=G(x,s),n=T(x),r=y(x,"BUTTON",{id:!0,class:!0});var j=b(r);k.l(j),j.forEach(f),x.forEach(f),i=T(R),c.l(R),R.forEach(f),this.h()},h(){p(r,"id","switch"),p(r,"class","svelte-13e5vsr"),p(t,"class","actionName graph_header svelte-13e5vsr"),p(e,"class","action svelte-13e5vsr")},m(w,R){D(w,e,R),g(e,t),g(t,l),g(t,n),g(t,r),k.m(r,null),g(e,i),S[u].m(e,null),o=!0,d||(m=[Ge(h=qe.call(null,r,{content:"Toggle between interactive graph and image"})),Y(r,"click",a[4])],d=!0)},p(w,R){(!o||R&1)&&s!==(s=w[0].allGraphData[0].actionName+"")&&U(l,s),v!==(v=_(w))&&(k.d(1),k=v(w),k&&(k.c(),k.m(r,null)));let x=u;u=M(w),u===x?S[u].p(w,R):(F(),L(S[x],1,1,()=>{S[x]=null}),X(),c=S[u],c?c.p(w,R):(c=S[u]=I[u](w),c.c()),V(c,1),c.m(e,null))},i(w){o||(V(c),o=!0)},o(w){L(c),o=!1},d(w){w&&f(e),k.d(),S[u].d(),d=!1,Re(m)}}}function He(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=b(e);t=Z(l,"path",{fill:!0,"fill-rule":!0,d:!0,class:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){p(t,"fill","currentColor"),p(t,"fill-rule","evenodd"),p(t,"d","M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61l4.15-5.073a.5.5 0 0 1 .704-.07Z"),p(t,"class","svelte-13e5vsr"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"class","iconify iconify--bi svelte-13e5vsr"),p(e,"width","32"),p(e,"height","32"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 16 16")},m(s,l){D(s,e,l),g(e,t)},d(s){s&&f(e)}}}function We(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=b(e);t=Z(l,"path",{fill:!0,d:!0,class:!0}),b(t).forEach(f),l.forEach(f),this.h()},h(){p(t,"fill","currentColor"),p(t,"d","M19 19H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-5.04 9.29l-2.75 3.54l-1.96-2.36L6.5 17h11l-3.54-4.71Z"),p(t,"class","svelte-13e5vsr"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"class","iconify iconify--mdi svelte-13e5vsr"),p(e,"width","32"),p(e,"height","32"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 24 24")},m(s,l){D(s,e,l),g(e,t)},d(s){s&&f(e)}}}function ze(a){let e,t;return e=new Be({props:{graphs:a[0].allGraphData[0].rawGraphData.curveData.map(De).flat().map(Ie),limits:a[0].allGraphData[0].displayRange}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.graphs=s[0].allGraphData[0].rawGraphData.curveData.map(De).flat().map(Ie)),l&1&&(n.limits=s[0].allGraphData[0].displayRange),e.$set(n)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Je(a){let e,t,s;return{c(){e=E("img"),this.h()},l(l){e=y(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","graph svelte-13e5vsr"),q(e.src,t=a[0].allGraphData[0].graphImageData)||p(e,"src",t),p(e,"alt",s="Graph of "+a[0].detectedLatex)},m(l,n){D(l,e,n)},p(l,n){n&1&&!q(e.src,t=l[0].allGraphData[0].graphImageData)&&p(e,"src",t),n&1&&s!==(s="Graph of "+l[0].detectedLatex)&&p(e,"alt",s)},i:O,o:O,d(l){l&&f(e)}}}function Ee(a){let e,t,s=a[12].prevExpression+"",l,n,r,h=a[12].expression+"",i,u,c,o=a[12].step+"",d;return{c(){e=E("div"),t=E("div"),l=A(s),n=C(),r=E("div"),i=A(h),u=C(),c=E("div"),d=A(o),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=b(e);t=y(_,"DIV",{class:!0});var v=b(t);l=G(v,s),v.forEach(f),n=T(_),r=y(_,"DIV",{class:!0});var k=b(r);i=G(k,h),k.forEach(f),_.forEach(f),u=T(m),c=y(m,"DIV",{class:!0});var I=b(c);d=G(I,o),I.forEach(f),this.h()},h(){p(t,"class","from svelte-13e5vsr"),p(r,"class","to svelte-13e5vsr"),p(e,"class","from_to_container svelte-13e5vsr"),p(c,"class","text svelte-13e5vsr")},m(m,_){D(m,e,_),g(e,t),g(t,l),g(e,n),g(e,r),g(r,i),D(m,u,_),D(m,c,_),g(c,d)},p(m,_){_&1&&s!==(s=m[12].prevExpression+"")&&U(l,s),_&1&&h!==(h=m[12].expression+"")&&U(i,h),_&1&&o!==(o=m[12].step+"")&&U(d,o)},d(m){m&&f(e),m&&f(u),m&&f(c)}}}function ye(a){let e,t=a[9].templateName+"",s,l,n,r=a[9].steps,h=[];for(let i=0;i<r.length;i+=1)h[i]=Ee(be(a,r,i));return{c(){e=E("h4"),s=A(t),l=C(),n=E("div");for(let i=0;i<h.length;i+=1)h[i].c();this.h()},l(i){e=y(i,"H4",{class:!0});var u=b(e);s=G(u,t),u.forEach(f),l=T(i),n=y(i,"DIV",{class:!0});var c=b(n);for(let o=0;o<h.length;o+=1)h[o].l(c);c.forEach(f),this.h()},h(){p(e,"class","solutionName svelte-13e5vsr"),p(n,"class","steps svelte-13e5vsr")},m(i,u){D(i,e,u),g(e,s),D(i,l,u),D(i,n,u);for(let c=0;c<h.length;c+=1)h[c].m(n,null)},p(i,u){if(u&1&&t!==(t=i[9].templateName+"")&&U(s,t),u&1){r=i[9].steps;let c;for(c=0;c<r.length;c+=1){const o=be(i,r,c);h[c]?h[c].p(o,u):(h[c]=Ee(o),h[c].c(),h[c].m(n,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=r.length}},d(i){i&&f(e),i&&f(l),i&&f(n),le(h,i)}}}function Se(a){let e,t,s=a[6].actionName+"",l,n,r,h=a[6].solution+"",i,u,c=a[6].templateSteps,o=[];for(let d=0;d<c.length;d+=1)o[d]=ye(we(a,c,d));return{c(){e=E("div"),t=E("h2"),l=A(s),n=C(),r=E("div"),i=C();for(let d=0;d<o.length;d+=1)o[d].c();u=C(),this.h()},l(d){e=y(d,"DIV",{class:!0});var m=b(e);t=y(m,"H2",{class:!0});var _=b(t);l=G(_,s),_.forEach(f),n=T(m),r=y(m,"DIV",{class:!0});var v=b(r);v.forEach(f),i=T(m);for(let k=0;k<o.length;k+=1)o[k].l(m);u=T(m),m.forEach(f),this.h()},h(){p(t,"class","actionName svelte-13e5vsr"),p(r,"class","solution_text svelte-13e5vsr"),p(e,"class","action svelte-13e5vsr")},m(d,m){D(d,e,m),g(e,t),g(t,l),g(e,n),g(e,r),r.innerHTML=h,g(e,i);for(let _=0;_<o.length;_+=1)o[_].m(e,null);g(e,u)},p(d,m){if(m&1&&s!==(s=d[6].actionName+"")&&U(l,s),m&1&&h!==(h=d[6].solution+"")&&(r.innerHTML=h),m&1){c=d[6].templateSteps;let _;for(_=0;_<c.length;_+=1){const v=we(d,c,_);o[_]?o[_].p(v,m):(o[_]=ye(v),o[_].c(),o[_].m(e,u))}for(;_<o.length;_+=1)o[_].d(1);o.length=c.length}},d(d){d&&f(e),le(o,d)}}}function Ke(a){var u,c;let e,t,s,l,n;e=new Oe({});let r=((c=(u=a[0].allGraphData)==null?void 0:u[0])==null?void 0:c.graphImageData)&&!a[3]&&ke(a),h=a[0].actions,i=[];for(let o=0;o<h.length;o+=1)i[o]=Se(ge(a,h,o));return{c(){ae(e.$$.fragment),t=C(),s=E("div"),r&&r.c(),l=C();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){ie(e.$$.fragment,o),t=T(o),s=y(o,"DIV",{class:!0});var d=b(s);r&&r.l(d),l=T(d);for(let m=0;m<i.length;m+=1)i[m].l(d);d.forEach(f),this.h()},h(){p(s,"class","result_container")},m(o,d){oe(e,o,d),D(o,t,d),D(o,s,d),r&&r.m(s,null),g(s,l);for(let m=0;m<i.length;m+=1)i[m].m(s,null);a[5](s),n=!0},p(o,[d]){var m,_;if(((_=(m=o[0].allGraphData)==null?void 0:m[0])==null?void 0:_.graphImageData)&&!o[3]?r?(r.p(o,d),d&9&&V(r,1)):(r=ke(o),r.c(),V(r,1),r.m(s,l)):r&&(F(),L(r,1,1,()=>{r=null}),X()),d&1){h=o[0].actions;let v;for(v=0;v<h.length;v+=1){const k=ge(o,h,v);i[v]?i[v].p(k,d):(i[v]=Se(k),i[v].c(),i[v].m(s,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=h.length}},i(o){n||(V(e.$$.fragment,o),V(r),n=!0)},o(o){L(e.$$.fragment,o),L(r),n=!1},d(o){ne(e,o),o&&f(t),o&&f(s),r&&r.d(),le(i,o),a[5](null)}}}const De=a=>{var e;return((e=a.pointGroups)==null?void 0:e.length)>1?a.pointGroups.map(t=>W(H({},a),{pointGroups:[t]})):a},Ie=a=>({name:a.curveExpression,points:a.pointGroups[0].points});function Ze(a,e,t){let s;$e(a,J,u=>t(3,s=u));let{result:l={}}=e,n=!0,r=document.body;se(()=>{console.log("Result component: ",l)}),Le(()=>{var u;console.log(window.renderMathInElement),(u=window==null?void 0:window.renderMathInElement)==null||u.call(window,r,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});const h=()=>t(1,n=!n);function i(u){re[u?"unshift":"push"](()=>{r=u,t(2,r)})}return a.$$set=u=>{"result"in u&&t(0,l=u.result)},[l,n,r,s,h,i]}class Fe extends Q{constructor(e){super(),ee(this,e,Ze,Ke,te,{result:0})}}function Xe(a){let e;function t(n,r){return n[2]&&n[2].value?et:Qe}let s=t(a),l=s(a);return{c(){e=E("div"),l.c(),this.h()},l(n){e=y(n,"DIV",{class:!0});var r=b(e);l.l(r),r.forEach(f),this.h()},h(){p(e,"class","prompt_message svelte-15wnrhw")},m(n,r){D(n,e,r),l.m(e,null)},p(n,r){s!==(s=t(n))&&(l.d(1),l=s(n),l&&(l.c(),l.m(e,null)))},i:O,o:O,d(n){n&&f(e),l.d()}}}function Ye(a){let e,t,s,l;const n=[st,tt],r=[];function h(i,u){return i[0].isError||i[3].isError?0:1}return e=h(a),t=r[e]=n[e](a),{c(){t.c(),s=_e()},l(i){t.l(i),s=_e()},m(i,u){r[e].m(i,u),D(i,s,u),l=!0},p(i,u){let c=e;e=h(i),e===c?r[e].p(i,u):(F(),L(r[c],1,1,()=>{r[c]=null}),X(),t=r[e],t?t.p(i,u):(t=r[e]=n[e](i),t.c()),V(t,1),t.m(s.parentNode,s))},i(i){l||(V(t),l=!0)},o(i){L(t),l=!1},d(i){r[e].d(i),i&&f(s)}}}function Qe(a){let e;return{c(){e=A("Enter a math formula to solve!")},l(t){e=G(t,"Enter a math formula to solve!")},m(t,s){D(t,e,s)},d(t){t&&f(e)}}}function et(a){let e;return{c(){e=A("Click solve to try to solve!")},l(t){e=G(t,"Click solve to try to solve!")},m(t,s){D(t,e,s)},d(t){t&&f(e)}}}function tt(a){let e,t;return e=new Fe({props:{result:a[0]}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.result=s[0]),e.$set(n)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function st(a){let e,t,s=(a[3].errorMessage||a[0].errorDisplayMessage||a[0].errorMessage||"Math invalid")+"",l;return{c(){e=E("span"),t=A("There was an error: "),l=A(s),this.h()},l(n){e=y(n,"SPAN",{class:!0});var r=b(e);t=G(r,"There was an error: "),l=G(r,s),r.forEach(f),this.h()},h(){p(e,"class","error svelte-15wnrhw")},m(n,r){D(n,e,r),g(e,t),g(e,l)},p(n,r){r&9&&s!==(s=(n[3].errorMessage||n[0].errorDisplayMessage||n[0].errorMessage||"Math invalid")+"")&&U(l,s)},i:O,o:O,d(n){n&&f(e)}}}function rt(a){let e,t,s,l,n,r,h,i,u,c,o,d,m,_,v,k,I,S,M,w,R;const x=[Ye,Xe],j=[];function ce($,N){return $[0]?0:1}return I=ce(a),S=j[I]=x[I](a),{c(){e=E("script"),s=E("link"),l=E("script"),r=E("script"),i=C(),u=E("div"),c=E("div"),o=E("math-field"),d=C(),m=E("button"),_=A("Solve"),v=C(),k=E("div"),S.c(),this.h()},l($){const N=Me('[data-svelte="svelte-1e56vpb"]',document.head);e=y(N,"SCRIPT",{src:!0,class:!0});var B=b(e);B.forEach(f),s=y(N,"LINK",{rel:!0,href:!0,class:!0}),l=y(N,"SCRIPT",{src:!0,class:!0});var Ce=b(l);Ce.forEach(f),r=y(N,"SCRIPT",{src:!0,class:!0});var Te=b(r);Te.forEach(f),N.forEach(f),i=T($),u=y($,"DIV",{class:!0});var ue=b(u);c=y(ue,"DIV",{class:!0});var P=b(c);o=y(P,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),b(o).forEach(f),d=T(P),m=y(P,"BUTTON",{class:!0});var he=b(m);_=G(he,"Solve"),he.forEach(f),v=T(P),k=y(P,"DIV",{class:!0});var pe=b(k);S.l(pe),pe.forEach(f),P.forEach(f),ue.forEach(f),this.h()},h(){q(e.src,t="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||p(e,"src",t),p(e,"class","svelte-15wnrhw"),p(s,"rel","stylesheet"),p(s,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),p(s,"class","svelte-15wnrhw"),l.defer=!0,q(l.src,n="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||p(l,"src",n),p(l,"class","svelte-15wnrhw"),r.defer=!0,q(r.src,h="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||p(r,"src",h),p(r,"class","svelte-15wnrhw"),z(o,"smart-mode",""),z(o,"defaultmode","math"),z(o,"virtual-keyboard-mode","manual"),z(o,"class","svelte-15wnrhw"),p(m,"class","solve svelte-15wnrhw"),p(k,"class","result svelte-15wnrhw"),p(c,"class","inner_container svelte-15wnrhw"),p(u,"class","container svelte-15wnrhw")},m($,N){g(document.head,e),g(document.head,s),g(document.head,l),g(document.head,r),D($,i,N),D($,u,N),g(u,c),g(c,o),a[6](o),g(c,d),g(c,m),g(m,_),g(c,v),g(c,k),j[I].m(k,null),M=!0,w||(R=[Y(o,"input",a[5]),Y(m,"click",a[4])],w=!0)},p($,[N]){let B=I;I=ce($),I===B?j[I].p($,N):(F(),L(j[B],1,1,()=>{j[B]=null}),X(),S=j[I],S?S.p($,N):(S=j[I]=x[I]($),S.c()),V(S,1),S.m(k,null))},i($){M||(V(S),M=!0)},o($){L(S),M=!1},d($){f(e),f(s),f(l),f(r),$&&f(i),$&&f(u),a[6](null),j[I].d(),w=!1,Re(R)}}}async function lt(a){const e=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,args:{headers:{"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`}}})}).then(t=>t.json()).then(t=>t.headers["set-cookie"].split("=")[1].split(";")[0]);return await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{method:"POST",headers:{accept:"application/json","accept-language":"en-US,en;q=0.9","cache-control":"no-cache","content-type":"application/json",pragma:"no-cache","sec-ch-ua":'"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Chrome OS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",cookie:`MUIDB=${e};MicrosoftApplicationsTelemetryFirstLaunchTime=${new Date(new Date-Math.random()*48*60*60*1e3).toISOString()}`,Referer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36","Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify({latexExpression:a,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:a,showCustomResult:!1})}})}).then(t=>t.json())}function at(a,e,t){let s;$e(a,J,o=>t(7,s=o));let l=null,n=String.raw`x = 3, y = x^2`,r=null,h={};se(()=>{window.mathField=r,r.setValue(new URLSearchParams(location.search).get("q")||n),new URLSearchParams(location.search).get("q")&&setTimeout(i),r.setOptions(W(H({},r.getOptions()),{smartSuperscript:!0,onKeystroke(o,d,m){d==="ctrl+[KeyA]"&&o.executeCommand("selectAll");const _=String.raw`\left.\begin{cases}`,v=String.raw`\end{cases}\right.`,k=String.raw`\placeholder{New equation}`,I=String.raw`\\{${k}}${v}`;if(d==="shift+[Enter]"){let M=r.value;if(M.startsWith(_)){console.log({START:_,ENDCASES:v},M.includes(v));let w=M.replace(new RegExp(`^${S(_)}`),"").replace(new RegExp(`${S(v)}$`),"");console.log(w),o.setValue(`${_}${w}${I}`)}else{let w=r.position;o.setValue(_+`{${r.value}}`+I),t(2,r.position=w+7,r)}}function S(M){return M.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(d==="[Backspace]"){if(r.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){r.setValue("");return}let M=r.value,w=String.raw`\\ {}`;if(console.log({val:M},M.startsWith(_),M.endsWith(w+v),w+v),M.startsWith(_)&&(M.endsWith(w+v)||M.endsWith(w+" "+v))){let R=M.replace(new RegExp(`^${S(_)}`),"").replace(new RegExp(`${S(w)}[ \\\\]*${S(v)}$`),"");console.log(R);let x=r.position;r.setValue(`${_}${R}${v}`),t(2,r.position=x-3,r)}}return d==="ctrl+[Backspace]"&&o.setValue(""),(d==="ctrl+[Enter]"||d==="[Enter]")&&i(),!0},inlineShortcuts:W(H({},r.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function i(){me(J,s=!0,s);let d=await lt(n);t(0,l=JSON.parse(JSON.parse(d.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),t(3,h=JSON.parse(d.json.results[0].tags[0].actions[0].customData)),console.log(h);let m=new URL(location),_=new URLSearchParams(location.search);_.set("q",l.detectedLatex),m.search=_,history.pushState({result:l},"Math solver",m),me(J,s=!1,s)}const u=o=>t(1,n=o.target.value);function c(o){re[o?"unshift":"push"](()=>{r=o,t(2,r)})}return[l,n,r,h,i,u,c]}class pt extends Q{constructor(e){super(),ee(this,e,at,rt,te,{})}}export{pt as default};
