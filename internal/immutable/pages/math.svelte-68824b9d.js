var Te=Object.defineProperty,Ne=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var fe=(n,e,t)=>e in n?Te(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||(e={}))Ve.call(e,t)&&fe(n,t,e[t]);if(de)for(var t of de(e))Ae.call(e,t)&&fe(n,t,e[t]);return n},H=(n,e)=>Ne(n,je(e));import{S as Q,i as ee,s as te,e as y,k as $,N as Ie,c as x,a as b,d,m as C,Z as q,b as p,F as g,g as S,E as O,v as re,$ as se,t as A,h as G,a1 as Ge,O as Y,j as U,n as F,o as L,p as X,q as j,U as Me,L as le,w as ne,x as ae,y as oe,B as ie,V as Re,u as Le,I as K,J as Z,al as W,W as ve,l as me}from"../chunks/index-6d454735.js";import{l as J}from"../chunks/store-036300f7.js";import{T as Oe}from"../chunks/TippyStyles-44d4363c.js";import{u as _e,t as qe}from"../chunks/tooltip-f617373c.js";import"../chunks/index-6fc5bc1a.js";function Ue(n){let e,t,r,l,i,s,u,a;return{c(){e=y("script"),r=y("script"),i=y("script"),u=$(),a=y("canvas"),this.h()},l(h){const c=Ie('[data-svelte="svelte-1i3dr7q"]',document.head);e=x(c,"SCRIPT",{src:!0});var o=b(e);o.forEach(d),r=x(c,"SCRIPT",{src:!0});var f=b(r);f.forEach(d),i=x(c,"SCRIPT",{src:!0});var v=b(i);v.forEach(d),c.forEach(d),u=C(h),a=x(h,"CANVAS",{class:!0}),b(a).forEach(d),this.h()},h(){q(e.src,t="https://cdn.jsdelivr.net/npm/chart.js")||p(e,"src",t),q(r.src,l="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8")||p(r,"src",l),r.defer=!0,q(i.src,s="https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js")||p(i,"src",s),i.defer=!0,p(a,"class","chart")},m(h,c){g(document.head,e),g(document.head,r),g(document.head,i),S(h,u,c),S(h,a,c),n[3](a)},p:O,i:O,o:O,d(h){d(e),d(r),d(i),h&&d(u),h&&d(a),n[3](null)}}}function Pe(n,e,t){let r,{limits:l={}}=e,{graphs:i=[]}=e;re(async()=>{const u=await _e(()=>window.Chart);fetch("https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js").then(a=>a.text()).then(eval).then(()=>{_e(()=>window.ChartZoom).then(()=>u.register(window.ChartZoom))}),new u(r,{type:"line",data:{datasets:i.map(a=>({label:a.name,tension:.3,pointRadius:0,borderColor:["#357B85"],data:a.points}))},options:{responsive:!0,scales:{y:{suggestedMin:l.minY,suggestedMax:l.maxY,type:"linear",position:"right"},x:{suggestedMin:l.minX,suggestedMax:l.maxX,type:"linear",position:"bottom"}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0}}},responsive:!0,maintainAspectRatio:!0}})});function s(u){se[u?"unshift":"push"](()=>{r=u,t(0,r)})}return n.$$set=u=>{"limits"in u&&t(1,l=u.limits),"graphs"in u&&t(2,i=u.graphs)},[r,l,i,s]}class Be extends Q{constructor(e){super(),ee(this,e,Pe,Ue,te,{limits:1,graphs:2})}}function ge(n,e,t){const r=n.slice();return r[6]=e[t],r}function we(n,e,t){const r=n.slice();return r[9]=e[t],r}function be(n,e,t){const r=n.slice();return r[12]=e[t],r}function ke(n){let e,t,r=n[0].allGraphData[0].actionName+"",l,i,s,u,a,h,c,o,f,v;function m(w,M){return w[1]?ze:He}let _=m(n),k=_(n);const D=[Je,We],E=[];function I(w,M){return w[1]?0:1}return h=I(n),c=E[h]=D[h](n),{c(){e=y("div"),t=y("h2"),l=A(r),i=$(),s=y("button"),k.c(),a=$(),c.c(),this.h()},l(w){e=x(w,"DIV",{class:!0});var M=b(e);t=x(M,"H2",{class:!0});var T=b(t);l=G(T,r),i=C(T),s=x(T,"BUTTON",{id:!0,class:!0});var V=b(s);k.l(V),V.forEach(d),T.forEach(d),a=C(M),c.l(M),M.forEach(d),this.h()},h(){p(s,"id","switch"),p(s,"class","svelte-13e5vsr"),p(t,"class","actionName graph_header svelte-13e5vsr"),p(e,"class","action svelte-13e5vsr")},m(w,M){S(w,e,M),g(e,t),g(t,l),g(t,i),g(t,s),k.m(s,null),g(e,a),E[h].m(e,null),o=!0,f||(v=[Ge(u=qe.call(null,s,{content:"Toggle between interactive graph and image"})),Y(s,"click",n[4])],f=!0)},p(w,M){(!o||M&1)&&r!==(r=w[0].allGraphData[0].actionName+"")&&U(l,r),_!==(_=m(w))&&(k.d(1),k=_(w),k&&(k.c(),k.m(s,null)));let T=h;h=I(w),h===T?E[h].p(w,M):(F(),L(E[T],1,1,()=>{E[T]=null}),X(),c=E[h],c?c.p(w,M):(c=E[h]=D[h](w),c.c()),j(c,1),c.m(e,null))},i(w){o||(j(c),o=!0)},o(w){L(c),o=!1},d(w){w&&d(e),k.d(),E[h].d(),f=!1,Me(v)}}}function ze(n){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Z(r,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=b(e);t=Z(l,"path",{fill:!0,"fill-rule":!0,d:!0,class:!0}),b(t).forEach(d),l.forEach(d),this.h()},h(){p(t,"fill","currentColor"),p(t,"fill-rule","evenodd"),p(t,"d","M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61l4.15-5.073a.5.5 0 0 1 .704-.07Z"),p(t,"class","svelte-13e5vsr"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"class","iconify iconify--bi svelte-13e5vsr"),p(e,"width","32"),p(e,"height","32"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 16 16")},m(r,l){S(r,e,l),g(e,t)},d(r){r&&d(e)}}}function He(n){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Z(r,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=b(e);t=Z(l,"path",{fill:!0,d:!0,class:!0}),b(t).forEach(d),l.forEach(d),this.h()},h(){p(t,"fill","currentColor"),p(t,"d","M19 19H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-5.04 9.29l-2.75 3.54l-1.96-2.36L6.5 17h11l-3.54-4.71Z"),p(t,"class","svelte-13e5vsr"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"class","iconify iconify--mdi svelte-13e5vsr"),p(e,"width","32"),p(e,"height","32"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 24 24")},m(r,l){S(r,e,l),g(e,t)},d(r){r&&d(e)}}}function We(n){let e,t;return e=new Be({props:{graphs:n[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De),limits:n[0].allGraphData[0].displayRange}}),{c(){ne(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){oe(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.graphs=r[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De)),l&1&&(i.limits=r[0].allGraphData[0].displayRange),e.$set(i)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Je(n){let e,t,r;return{c(){e=y("img"),this.h()},l(l){e=x(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","graph svelte-13e5vsr"),q(e.src,t=n[0].allGraphData[0].graphImageData)||p(e,"src",t),p(e,"alt",r="Graph of "+n[0].detectedLatex)},m(l,i){S(l,e,i)},p(l,i){i&1&&!q(e.src,t=l[0].allGraphData[0].graphImageData)&&p(e,"src",t),i&1&&r!==(r="Graph of "+l[0].detectedLatex)&&p(e,"alt",r)},i:O,o:O,d(l){l&&d(e)}}}function ye(n){let e,t,r=n[12].prevExpression+"",l,i,s,u=n[12].expression+"",a,h,c,o=n[12].step+"",f;return{c(){e=y("div"),t=y("div"),l=A(r),i=$(),s=y("div"),a=A(u),h=$(),c=y("div"),f=A(o),this.h()},l(v){e=x(v,"DIV",{class:!0});var m=b(e);t=x(m,"DIV",{class:!0});var _=b(t);l=G(_,r),_.forEach(d),i=C(m),s=x(m,"DIV",{class:!0});var k=b(s);a=G(k,u),k.forEach(d),m.forEach(d),h=C(v),c=x(v,"DIV",{class:!0});var D=b(c);f=G(D,o),D.forEach(d),this.h()},h(){p(t,"class","from svelte-13e5vsr"),p(s,"class","to svelte-13e5vsr"),p(e,"class","from_to_container svelte-13e5vsr"),p(c,"class","text svelte-13e5vsr")},m(v,m){S(v,e,m),g(e,t),g(t,l),g(e,i),g(e,s),g(s,a),S(v,h,m),S(v,c,m),g(c,f)},p(v,m){m&1&&r!==(r=v[12].prevExpression+"")&&U(l,r),m&1&&u!==(u=v[12].expression+"")&&U(a,u),m&1&&o!==(o=v[12].step+"")&&U(f,o)},d(v){v&&d(e),v&&d(h),v&&d(c)}}}function xe(n){let e,t=n[9].templateName+"",r,l,i,s=n[9].steps,u=[];for(let a=0;a<s.length;a+=1)u[a]=ye(be(n,s,a));return{c(){e=y("h4"),r=A(t),l=$(),i=y("div");for(let a=0;a<u.length;a+=1)u[a].c();this.h()},l(a){e=x(a,"H4",{class:!0});var h=b(e);r=G(h,t),h.forEach(d),l=C(a),i=x(a,"DIV",{class:!0});var c=b(i);for(let o=0;o<u.length;o+=1)u[o].l(c);c.forEach(d),this.h()},h(){p(e,"class","solutionName svelte-13e5vsr"),p(i,"class","steps svelte-13e5vsr")},m(a,h){S(a,e,h),g(e,r),S(a,l,h),S(a,i,h);for(let c=0;c<u.length;c+=1)u[c].m(i,null)},p(a,h){if(h&1&&t!==(t=a[9].templateName+"")&&U(r,t),h&1){s=a[9].steps;let c;for(c=0;c<s.length;c+=1){const o=be(a,s,c);u[c]?u[c].p(o,h):(u[c]=ye(o),u[c].c(),u[c].m(i,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=s.length}},d(a){a&&d(e),a&&d(l),a&&d(i),le(u,a)}}}function Ee(n){let e,t,r=n[6].actionName+"",l,i,s,u=n[6].solution+"",a,h,c=n[6].templateSteps,o=[];for(let f=0;f<c.length;f+=1)o[f]=xe(we(n,c,f));return{c(){e=y("div"),t=y("h2"),l=A(r),i=$(),s=y("div"),a=$();for(let f=0;f<o.length;f+=1)o[f].c();h=$(),this.h()},l(f){e=x(f,"DIV",{class:!0});var v=b(e);t=x(v,"H2",{class:!0});var m=b(t);l=G(m,r),m.forEach(d),i=C(v),s=x(v,"DIV",{class:!0});var _=b(s);_.forEach(d),a=C(v);for(let k=0;k<o.length;k+=1)o[k].l(v);h=C(v),v.forEach(d),this.h()},h(){p(t,"class","actionName svelte-13e5vsr"),p(s,"class","solution_text svelte-13e5vsr"),p(e,"class","action svelte-13e5vsr")},m(f,v){S(f,e,v),g(e,t),g(t,l),g(e,i),g(e,s),s.innerHTML=u,g(e,a);for(let m=0;m<o.length;m+=1)o[m].m(e,null);g(e,h)},p(f,v){if(v&1&&r!==(r=f[6].actionName+"")&&U(l,r),v&1&&u!==(u=f[6].solution+"")&&(s.innerHTML=u),v&1){c=f[6].templateSteps;let m;for(m=0;m<c.length;m+=1){const _=we(f,c,m);o[m]?o[m].p(_,v):(o[m]=xe(_),o[m].c(),o[m].m(e,h))}for(;m<o.length;m+=1)o[m].d(1);o.length=c.length}},d(f){f&&d(e),le(o,f)}}}function Ke(n){var h,c;let e,t,r,l,i;e=new Oe({});let s=((c=(h=n[0].allGraphData)==null?void 0:h[0])==null?void 0:c.graphImageData)&&!n[3]&&ke(n),u=n[0].actions,a=[];for(let o=0;o<u.length;o+=1)a[o]=Ee(ge(n,u,o));return{c(){ne(e.$$.fragment),t=$(),r=y("div"),s&&s.c(),l=$();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){ae(e.$$.fragment,o),t=C(o),r=x(o,"DIV",{class:!0});var f=b(r);s&&s.l(f),l=C(f);for(let v=0;v<a.length;v+=1)a[v].l(f);f.forEach(d),this.h()},h(){p(r,"class","result_container")},m(o,f){oe(e,o,f),S(o,t,f),S(o,r,f),s&&s.m(r,null),g(r,l);for(let v=0;v<a.length;v+=1)a[v].m(r,null);n[5](r),i=!0},p(o,[f]){var v,m;if(((m=(v=o[0].allGraphData)==null?void 0:v[0])==null?void 0:m.graphImageData)&&!o[3]?s?(s.p(o,f),f&9&&j(s,1)):(s=ke(o),s.c(),j(s,1),s.m(r,l)):s&&(F(),L(s,1,1,()=>{s=null}),X()),f&1){u=o[0].actions;let _;for(_=0;_<u.length;_+=1){const k=ge(o,u,_);a[_]?a[_].p(k,f):(a[_]=Ee(k),a[_].c(),a[_].m(r,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=u.length}},i(o){i||(j(e.$$.fragment,o),j(s),i=!0)},o(o){L(e.$$.fragment,o),L(s),i=!1},d(o){ie(e,o),o&&d(t),o&&d(r),s&&s.d(),le(a,o),n[5](null)}}}const Se=n=>{var e;return((e=n.pointGroups)==null?void 0:e.length)>1?n.pointGroups.map(t=>H(z({},n),{pointGroups:[t]})):n},De=n=>({name:n.curveExpression,points:n.pointGroups[0].points});function Ze(n,e,t){let r;Re(n,J,h=>t(3,r=h));let{result:l={}}=e,i=!0,s=document.body;re(()=>{console.log("Result component: ",l)}),Le(()=>{var h;console.log(window.renderMathInElement),(h=window==null?void 0:window.renderMathInElement)==null||h.call(window,s,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});const u=()=>t(1,i=!i);function a(h){se[h?"unshift":"push"](()=>{s=h,t(2,s)})}return n.$$set=h=>{"result"in h&&t(0,l=h.result)},[l,i,s,r,u,a]}class Fe extends Q{constructor(e){super(),ee(this,e,Ze,Ke,te,{result:0})}}function Xe(n){let e;function t(i,s){return i[2]&&i[2].value?et:Qe}let r=t(n),l=r(n);return{c(){e=y("div"),l.c(),this.h()},l(i){e=x(i,"DIV",{class:!0});var s=b(e);l.l(s),s.forEach(d),this.h()},h(){p(e,"class","prompt_message svelte-15wnrhw")},m(i,s){S(i,e,s),l.m(e,null)},p(i,s){r!==(r=t(i))&&(l.d(1),l=r(i),l&&(l.c(),l.m(e,null)))},i:O,o:O,d(i){i&&d(e),l.d()}}}function Ye(n){let e,t,r,l;const i=[rt,tt],s=[];function u(a,h){return a[0].isError||a[3].isError?0:1}return e=u(n),t=s[e]=i[e](n),{c(){t.c(),r=me()},l(a){t.l(a),r=me()},m(a,h){s[e].m(a,h),S(a,r,h),l=!0},p(a,h){let c=e;e=u(a),e===c?s[e].p(a,h):(F(),L(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(a,h):(t=s[e]=i[e](a),t.c()),j(t,1),t.m(r.parentNode,r))},i(a){l||(j(t),l=!0)},o(a){L(t),l=!1},d(a){s[e].d(a),a&&d(r)}}}function Qe(n){let e;return{c(){e=A("Enter a math formula to solve!")},l(t){e=G(t,"Enter a math formula to solve!")},m(t,r){S(t,e,r)},d(t){t&&d(e)}}}function et(n){let e;return{c(){e=A("Click solve to try to solve!")},l(t){e=G(t,"Click solve to try to solve!")},m(t,r){S(t,e,r)},d(t){t&&d(e)}}}function tt(n){let e,t;return e=new Fe({props:{result:n[0]}}),{c(){ne(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){oe(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.result=r[0]),e.$set(i)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function rt(n){let e,t,r=(n[3].errorMessage||n[0].errorDisplayMessage||n[0].errorMessage||"Math invalid")+"",l;return{c(){e=y("span"),t=A("There was an error: "),l=A(r),this.h()},l(i){e=x(i,"SPAN",{class:!0});var s=b(e);t=G(s,"There was an error: "),l=G(s,r),s.forEach(d),this.h()},h(){p(e,"class","error svelte-15wnrhw")},m(i,s){S(i,e,s),g(e,t),g(e,l)},p(i,s){s&9&&r!==(r=(i[3].errorMessage||i[0].errorDisplayMessage||i[0].errorMessage||"Math invalid")+"")&&U(l,r)},i:O,o:O,d(i){i&&d(e)}}}function st(n){let e,t,r,l,i,s,u,a,h,c,o,f,v,m,_,k,D,E,I,w,M;const T=[Ye,Xe],V=[];function ce(R,N){return R[0]?0:1}return D=ce(n),E=V[D]=T[D](n),{c(){e=y("script"),r=y("link"),l=y("script"),s=y("script"),a=$(),h=y("div"),c=y("div"),o=y("math-field"),f=$(),v=y("button"),m=A("Solve"),_=$(),k=y("div"),E.c(),this.h()},l(R){const N=Ie('[data-svelte="svelte-1e56vpb"]',document.head);e=x(N,"SCRIPT",{src:!0,class:!0});var B=b(e);B.forEach(d),r=x(N,"LINK",{rel:!0,href:!0,class:!0}),l=x(N,"SCRIPT",{src:!0,class:!0});var $e=b(l);$e.forEach(d),s=x(N,"SCRIPT",{src:!0,class:!0});var Ce=b(s);Ce.forEach(d),N.forEach(d),a=C(R),h=x(R,"DIV",{class:!0});var he=b(h);c=x(he,"DIV",{class:!0});var P=b(c);o=x(P,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),b(o).forEach(d),f=C(P),v=x(P,"BUTTON",{class:!0});var ue=b(v);m=G(ue,"Solve"),ue.forEach(d),_=C(P),k=x(P,"DIV",{class:!0});var pe=b(k);E.l(pe),pe.forEach(d),P.forEach(d),he.forEach(d),this.h()},h(){q(e.src,t="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||p(e,"src",t),p(e,"class","svelte-15wnrhw"),p(r,"rel","stylesheet"),p(r,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),p(r,"class","svelte-15wnrhw"),l.defer=!0,q(l.src,i="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||p(l,"src",i),p(l,"class","svelte-15wnrhw"),s.defer=!0,q(s.src,u="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||p(s,"src",u),p(s,"class","svelte-15wnrhw"),W(o,"smart-mode",""),W(o,"defaultmode","math"),W(o,"virtual-keyboard-mode","manual"),W(o,"class","svelte-15wnrhw"),p(v,"class","solve svelte-15wnrhw"),p(k,"class","result svelte-15wnrhw"),p(c,"class","inner_container svelte-15wnrhw"),p(h,"class","container svelte-15wnrhw")},m(R,N){g(document.head,e),g(document.head,r),g(document.head,l),g(document.head,s),S(R,a,N),S(R,h,N),g(h,c),g(c,o),n[6](o),g(c,f),g(c,v),g(v,m),g(c,_),g(c,k),V[D].m(k,null),I=!0,w||(M=[Y(o,"input",n[5]),Y(v,"click",n[4])],w=!0)},p(R,[N]){let B=D;D=ce(R),D===B?V[D].p(R,N):(F(),L(V[B],1,1,()=>{V[B]=null}),X(),E=V[D],E?E.p(R,N):(E=V[D]=T[D](R),E.c()),j(E,1),E.m(k,null))},i(R){I||(j(E),I=!0)},o(R){L(E),I=!1},d(R){d(e),d(r),d(l),d(s),R&&d(a),R&&d(h),n[6](null),V[D].d(),w=!1,Me(M)}}}async function lt(n){const e=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(n)}`,args:{headers:{"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(n)}`}}})}).then(t=>t.json()).then(t=>t.headers["set-cookie"].split("=")[1].split(";")[0]);return await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{method:"POST",headers:{accept:"application/json","accept-language":"en-US,en;q=0.9","cache-control":"no-cache","content-type":"application/json",pragma:"no-cache","sec-ch-ua":'"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Chrome OS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",cookie:`MUIDB=${e};MicrosoftApplicationsTelemetryFirstLaunchTime=${new Date(new Date-Math.random()*48*60*60*1e3).toISOString()}`,Referer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(n)}`,origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(n)}`,"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36","Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify({latexExpression:n,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:n,showCustomResult:!1})}})}).then(t=>t.json())}function nt(n,e,t){let r;Re(n,J,o=>t(7,r=o));let l=null,i=String.raw`x = 3, y = x^2`,s=null,u={};re(()=>{window.mathField=s,s.setValue(new URLSearchParams(location.search).get("q")||i),new URLSearchParams(location.search).get("q")&&setTimeout(a),s.setOptions(H(z({},s.getOptions()),{smartSuperscript:!0,onKeystroke(o,f,v){f==="ctrl+[KeyA]"&&o.executeCommand("selectAll");const m=String.raw`\left.\begin{cases}`,_=String.raw`\end{cases}\right.`,k=String.raw`\placeholder{New equation}`,D=String.raw`\\{${k}}${_}`;if(f==="shift+[Enter]"){let I=s.value;if(I.startsWith(m)){console.log({START:m,ENDCASES:_},I.includes(_));let w=I.replace(new RegExp(`^${E(m)}`),"").replace(new RegExp(`${E(_)}$`),"");console.log(w),o.setValue(`${m}${w}${D}`)}else{let w=s.position;o.setValue(m+`{${s.value}}`+D),t(2,s.position=w+7,s)}}function E(I){return I.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(f==="[Backspace]"){if(s.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){s.setValue("");return}let I=s.value,w=String.raw`\\ {}`;if(console.log({val:I},I.startsWith(m),I.endsWith(w+_),w+_),I.startsWith(m)&&(I.endsWith(w+_)||I.endsWith(w+" "+_))){let M=I.replace(new RegExp(`^${E(m)}`),"").replace(new RegExp(`${E(w)}[ \\\\]*${E(_)}$`),"");console.log(M);let T=s.position;s.setValue(`${m}${M}${_}`),t(2,s.position=T-3,s)}}return f==="ctrl+[Backspace]"&&o.setValue(""),(f==="ctrl+[Enter]"||f==="[Enter]")&&a(),!0},inlineShortcuts:H(z({},s.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function a(){ve(J,r=!0,r);let f=await lt(i);t(0,l=JSON.parse(JSON.parse(f.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),t(3,u=JSON.parse(f.json.results[0].tags[0].actions[0].customData)),console.log(u);let v=new URL(location),m=new URLSearchParams(location.search);m.set("q",l.detectedLatex),v.search=m,history.pushState({result:l},"Math solver",v),ve(J,r=!1,r)}const h=o=>t(1,i=o.target.value);function c(o){se[o?"unshift":"push"](()=>{s=o,t(2,s)})}return[l,i,s,u,a,h,c]}class pt extends Q{constructor(e){super(),ee(this,e,nt,st,te,{})}}export{pt as default};
