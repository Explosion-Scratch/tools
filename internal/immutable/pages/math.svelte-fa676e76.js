var be=Object.defineProperty,ke=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ee=(a,e,r)=>e in a?be(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,B=(a,e)=>{for(var r in e||(e={}))ye.call(e,r)&&ee(a,r,e[r]);if(Z)for(var r of Z(e))Ee.call(e,r)&&ee(a,r,e[r]);return a},z=(a,e)=>ke(a,we(e));import{S as ve,i as ue,s as he,e as k,t as V,k as T,c as w,a as y,h as D,d as h,m as R,b as g,g as $,F as m,j as O,L as U,E as C,v as de,u as xe,_ as fe,N as Se,a0 as F,ak as H,O as te,o as L,p as pe,q as P,U as $e,V as Ie,W as se,n as _e,l as re,w as Ne,x as Ve,y as De,B as Te}from"../chunks/index-ae76fa84.js";import{l as J}from"../chunks/store-6294c8b5.js";import"../chunks/index-1dac1876.js";function le(a,e,r){const s=a.slice();return s[3]=e[r],s}function ie(a,e,r){const s=a.slice();return s[6]=e[r],s}function oe(a,e,r){const s=a.slice();return s[9]=e[r],s}function ae(a){let e,r,s=a[9].prevExpression+"",l,o,t,d=a[9].expression+"",n,f,i,c=a[9].step+"",p;return{c(){e=k("div"),r=k("div"),l=V(s),o=T(),t=k("div"),n=V(d),f=T(),i=k("div"),p=V(c),this.h()},l(v){e=w(v,"DIV",{class:!0});var u=y(e);r=w(u,"DIV",{class:!0});var I=y(r);l=D(I,s),I.forEach(h),o=R(u),t=w(u,"DIV",{class:!0});var E=y(t);n=D(E,d),E.forEach(h),u.forEach(h),f=R(v),i=w(v,"DIV",{class:!0});var b=y(i);p=D(b,c),b.forEach(h),this.h()},h(){g(r,"class","from svelte-a8kia8"),g(t,"class","to svelte-a8kia8"),g(e,"class","from_to_container svelte-a8kia8"),g(i,"class","text svelte-a8kia8")},m(v,u){$(v,e,u),m(e,r),m(r,l),m(e,o),m(e,t),m(t,n),$(v,f,u),$(v,i,u),m(i,p)},p(v,u){u&1&&s!==(s=v[9].prevExpression+"")&&O(l,s),u&1&&d!==(d=v[9].expression+"")&&O(n,d),u&1&&c!==(c=v[9].step+"")&&O(p,c)},d(v){v&&h(e),v&&h(f),v&&h(i)}}}function ne(a){let e,r=a[6].templateName+"",s,l,o,t=a[6].steps,d=[];for(let n=0;n<t.length;n+=1)d[n]=ae(oe(a,t,n));return{c(){e=k("h4"),s=V(r),l=T(),o=k("div");for(let n=0;n<d.length;n+=1)d[n].c();this.h()},l(n){e=w(n,"H4",{class:!0});var f=y(e);s=D(f,r),f.forEach(h),l=R(n),o=w(n,"DIV",{class:!0});var i=y(o);for(let c=0;c<d.length;c+=1)d[c].l(i);i.forEach(h),this.h()},h(){g(e,"class","solutionName svelte-a8kia8"),g(o,"class","steps svelte-a8kia8")},m(n,f){$(n,e,f),m(e,s),$(n,l,f),$(n,o,f);for(let i=0;i<d.length;i+=1)d[i].m(o,null)},p(n,f){if(f&1&&r!==(r=n[6].templateName+"")&&O(s,r),f&1){t=n[6].steps;let i;for(i=0;i<t.length;i+=1){const c=oe(n,t,i);d[i]?d[i].p(c,f):(d[i]=ae(c),d[i].c(),d[i].m(o,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=t.length}},d(n){n&&h(e),n&&h(l),n&&h(o),U(d,n)}}}function ce(a){let e,r,s=a[3].actionName+"",l,o,t,d=a[3].solution+"",n,f,i=a[3].templateSteps,c=[];for(let p=0;p<i.length;p+=1)c[p]=ne(ie(a,i,p));return{c(){e=k("div"),r=k("h2"),l=V(s),o=T(),t=k("div"),n=T();for(let p=0;p<c.length;p+=1)c[p].c();f=T(),this.h()},l(p){e=w(p,"DIV",{class:!0});var v=y(e);r=w(v,"H2",{class:!0});var u=y(r);l=D(u,s),u.forEach(h),o=R(v),t=w(v,"DIV",{class:!0});var I=y(t);I.forEach(h),n=R(v);for(let E=0;E<c.length;E+=1)c[E].l(v);f=R(v),v.forEach(h),this.h()},h(){g(r,"class","actionName svelte-a8kia8"),g(t,"class","solution_text svelte-a8kia8"),g(e,"class","action svelte-a8kia8")},m(p,v){$(p,e,v),m(e,r),m(r,l),m(e,o),m(e,t),t.innerHTML=d,m(e,n);for(let u=0;u<c.length;u+=1)c[u].m(e,null);m(e,f)},p(p,v){if(v&1&&s!==(s=p[3].actionName+"")&&O(l,s),v&1&&d!==(d=p[3].solution+"")&&(t.innerHTML=d),v&1){i=p[3].templateSteps;let u;for(u=0;u<i.length;u+=1){const I=ie(p,i,u);c[u]?c[u].p(I,v):(c[u]=ne(I),c[u].c(),c[u].m(e,f))}for(;u<c.length;u+=1)c[u].d(1);c.length=i.length}},d(p){p&&h(e),U(c,p)}}}function Re(a){let e,r=a[0].actions,s=[];for(let l=0;l<r.length;l+=1)s[l]=ce(le(a,r,l));return{c(){e=k("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=w(l,"DIV",{class:!0});var o=y(e);for(let t=0;t<s.length;t+=1)s[t].l(o);o.forEach(h),this.h()},h(){g(e,"class","result_container")},m(l,o){$(l,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);a[2](e)},p(l,[o]){if(o&1){r=l[0].actions;let t;for(t=0;t<r.length;t+=1){const d=le(l,r,t);s[t]?s[t].p(d,o):(s[t]=ce(d),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=r.length}},i:C,o:C,d(l){l&&h(e),U(s,l),a[2](null)}}}function Me(a,e,r){let{result:s={}}=e,l=document.body;de(()=>{console.log("Result component: ",s)}),xe(()=>{var t;console.log(window.renderMathInElement),(t=window==null?void 0:window.renderMathInElement)==null||t.call(window,l,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});function o(t){fe[t?"unshift":"push"](()=>{l=t,r(1,l)})}return a.$$set=t=>{"result"in t&&r(0,s=t.result)},[s,l,o]}class je extends ve{constructor(e){super(),ue(this,e,Me,Re,he,{result:0})}}function qe(a){let e;function r(o,t){return o[2]&&o[2].value?Ae:Ce}let s=r(a),l=s(a);return{c(){e=k("div"),l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var t=y(e);l.l(t),t.forEach(h),this.h()},h(){g(e,"class","prompt_message svelte-i5sevh")},m(o,t){$(o,e,t),l.m(e,null)},p(o,t){s!==(s=r(o))&&(l.d(1),l=s(o),l&&(l.c(),l.m(e,null)))},i:C,o:C,d(o){o&&h(e),l.d()}}}function Oe(a){let e,r,s,l;const o=[Pe,Le],t=[];function d(n,f){return n[0].isError?0:1}return e=d(a),r=t[e]=o[e](a),{c(){r.c(),s=re()},l(n){r.l(n),s=re()},m(n,f){t[e].m(n,f),$(n,s,f),l=!0},p(n,f){let i=e;e=d(n),e===i?t[e].p(n,f):(_e(),L(t[i],1,1,()=>{t[i]=null}),pe(),r=t[e],r?r.p(n,f):(r=t[e]=o[e](n),r.c()),P(r,1),r.m(s.parentNode,s))},i(n){l||(P(r),l=!0)},o(n){L(r),l=!1},d(n){t[e].d(n),n&&h(s)}}}function Ce(a){let e;return{c(){e=V("Enter a math formula to solve!")},l(r){e=D(r,"Enter a math formula to solve!")},m(r,s){$(r,e,s)},d(r){r&&h(e)}}}function Ae(a){let e;return{c(){e=V("Click solve to try to solve!")},l(r){e=D(r,"Click solve to try to solve!")},m(r,s){$(r,e,s)},d(r){r&&h(e)}}}function Le(a){let e,r;return e=new je({props:{result:a[0]}}),{c(){Ne(e.$$.fragment)},l(s){Ve(e.$$.fragment,s)},m(s,l){De(e,s,l),r=!0},p(s,l){const o={};l&1&&(o.result=s[0]),e.$set(o)},i(s){r||(P(e.$$.fragment,s),r=!0)},o(s){L(e.$$.fragment,s),r=!1},d(s){Te(e,s)}}}function Pe(a){let e,r,s=(a[0].errorDisplayMessage||a[0].errorMessage||"Math invalid")+"",l;return{c(){e=k("span"),r=V("There was an error: "),l=V(s),this.h()},l(o){e=w(o,"SPAN",{class:!0});var t=y(e);r=D(t,"There was an error: "),l=D(t,s),t.forEach(h),this.h()},h(){g(e,"class","error svelte-i5sevh")},m(o,t){$(o,e,t),m(e,r),m(e,l)},p(o,t){t&1&&s!==(s=(o[0].errorDisplayMessage||o[0].errorMessage||"Math invalid")+"")&&O(l,s)},i:C,o:C,d(o){o&&h(e)}}}function We(a){let e,r,s,l,o,t,d,n,f,i,c,p,v,u,I,E,b,_,S,j,W;const K=[Oe,qe],M=[];function G(x,N){return x[0]?0:1}return b=G(a),_=M[b]=K[b](a),{c(){e=k("script"),s=k("link"),l=k("script"),t=k("script"),n=T(),f=k("div"),i=k("div"),c=k("math-field"),p=T(),v=k("button"),u=V("Solve"),I=T(),E=k("div"),_.c(),this.h()},l(x){const N=Se('[data-svelte="svelte-1e56vpb"]',document.head);e=w(N,"SCRIPT",{src:!0,class:!0});var A=y(e);A.forEach(h),s=w(N,"LINK",{rel:!0,href:!0,class:!0}),l=w(N,"SCRIPT",{src:!0,class:!0});var me=y(l);me.forEach(h),t=w(N,"SCRIPT",{src:!0,class:!0});var ge=y(t);ge.forEach(h),N.forEach(h),n=R(x),f=w(x,"DIV",{class:!0});var Q=y(f);i=w(Q,"DIV",{class:!0});var q=y(i);c=w(q,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),y(c).forEach(h),p=R(q),v=w(q,"BUTTON",{class:!0});var X=y(v);u=D(X,"Solve"),X.forEach(h),I=R(q),E=w(q,"DIV",{class:!0});var Y=y(E);_.l(Y),Y.forEach(h),q.forEach(h),Q.forEach(h),this.h()},h(){F(e.src,r="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||g(e,"src",r),g(e,"class","svelte-i5sevh"),g(s,"rel","stylesheet"),g(s,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),g(s,"class","svelte-i5sevh"),l.defer=!0,F(l.src,o="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||g(l,"src",o),g(l,"class","svelte-i5sevh"),t.defer=!0,F(t.src,d="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||g(t,"src",d),g(t,"class","svelte-i5sevh"),H(c,"smart-mode",""),H(c,"defaultmode","math"),H(c,"virtual-keyboard-mode","manual"),H(c,"class","svelte-i5sevh"),g(v,"class","solve svelte-i5sevh"),g(E,"class","result svelte-i5sevh"),g(i,"class","inner_container svelte-i5sevh"),g(f,"class","container svelte-i5sevh")},m(x,N){m(document.head,e),m(document.head,s),m(document.head,l),m(document.head,t),$(x,n,N),$(x,f,N),m(f,i),m(i,c),a[5](c),m(i,p),m(i,v),m(v,u),m(i,I),m(i,E),M[b].m(E,null),S=!0,j||(W=[te(c,"input",a[4]),te(v,"click",a[3])],j=!0)},p(x,[N]){let A=b;b=G(x),b===A?M[b].p(x,N):(_e(),L(M[A],1,1,()=>{M[A]=null}),pe(),_=M[b],_?_.p(x,N):(_=M[b]=K[b](x),_.c()),P(_,1),_.m(E,null))},i(x){S||(P(_),S=!0)},o(x){L(_),S=!1},d(x){h(e),h(s),h(l),h(t),x&&h(n),x&&h(f),a[5](null),M[b].d(),j=!1,$e(W)}}}function He(a,e,r){let s;Ie(a,J,i=>r(6,s=i));let l=null,o=String.raw`x = 3, y = x^2`,t=null;de(()=>{window.mathField=t,t.setValue(o),t.setOptions(z(B({},t.getOptions()),{smartSuperscript:!0,onKeystroke(i,c,p){c==="ctrl+[KeyA]"&&i.executeCommand("selectAll");const v=String.raw`\left.\begin{cases}`,u=String.raw`\end{cases}\right.`,I=String.raw`\placeholder{New equation}`,E=String.raw`\\{${I}}${u}`;if(c==="shift+[Enter]"){let _=t.value;if(_.startsWith(v)){console.log({START:v,ENDCASES:u},_.includes(u));let S=_.replace(new RegExp(`^${b(v)}`),"").replace(new RegExp(`${b(u)}$`),"");console.log(S),i.setValue(`${v}${S}${E}`)}else{let S=t.position;i.setValue(v+`{${t.value}}`+E),r(2,t.position=S+7,t)}}function b(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(c==="[Backspace]"){if(t.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){t.setValue("");return}let _=t.value,S=String.raw`\\ {}`;if(console.log({val:_},_.startsWith(v),_.endsWith(S+u),S+u),_.startsWith(v)&&(_.endsWith(S+u)||_.endsWith(S+" "+u))){let j=_.replace(new RegExp(`^${b(v)}`),"").replace(new RegExp(`${b(S)}[ \\\\]*${b(u)}$`),"");console.log(j);let W=t.position;t.setValue(`${v}${j}${u}`),r(2,t.position=W-3,t)}}return c==="ctrl+[Backspace]"&&i.setValue(""),(c==="ctrl+[Enter]"||c==="[Enter]")&&d(),!0},inlineShortcuts:z(B({},t.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function d(){se(J,s=!0,s);let i=o,c=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({latexExpression:i,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:i,showCustomResult:!1}),referrer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(i)}`,referrerPolicy:"strict-origin-when-cross-origin",method:"POST"}})}).then(p=>p.json());r(0,l=JSON.parse(JSON.parse(c.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),console.log({result:l}),se(J,s=!1,s)}const n=i=>r(1,o=i.target.value);function f(i){fe[i?"unshift":"push"](()=>{t=i,r(2,t)})}return[l,o,t,d,n,f]}class Ue extends ve{constructor(e){super(),ue(this,e,He,We,he,{})}}export{Ue as default};
