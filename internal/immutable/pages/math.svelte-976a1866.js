var be=Object.defineProperty,ke=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var ee=(i,e,s)=>e in i?be(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,B=(i,e)=>{for(var s in e||(e={}))we.call(e,s)&&ee(i,s,e[s]);if(Z)for(var s of Z(e))ye.call(e,s)&&ee(i,s,e[s]);return i},J=(i,e)=>ke(i,Ee(e));import{S as ue,i as fe,s as he,e as g,t as M,k as T,c as b,a as k,h as N,d as u,m as j,b as m,g as y,F as v,j as R,L as K,E as x,v as _e,u as Ie,_ as de,N as Se,a0 as U,aj as P,O as te,o as $,p as pe,q as L,U as De,V as Ve,W as le,n as ve,l as se,w as Me,x as Ne,y as Te,B as je}from"../chunks/index-0ee63240.js";import{l as F}from"../chunks/store-5cff5e15.js";import"../chunks/index-8bd30b3e.js";function re(i,e,s){const t=i.slice();return t[3]=e[s],t}function ae(i,e,s){const t=i.slice();return t[6]=e[s],t}function oe(i,e,s){const t=i.slice();return t[9]=e[s],t}function ie(i){let e,s,t=i[9].prevExpression+"",r,o,l,f=i[9].expression+"",n,_,a,c=i[9].step+"",p;return{c(){e=g("div"),s=g("div"),r=M(t),o=T(),l=g("div"),n=M(f),_=T(),a=g("div"),p=M(c),this.h()},l(h){e=b(h,"DIV",{class:!0});var d=k(e);s=b(d,"DIV",{class:!0});var V=k(s);r=N(V,t),V.forEach(u),o=j(d),l=b(d,"DIV",{class:!0});var I=k(l);n=N(I,f),I.forEach(u),d.forEach(u),_=j(h),a=b(h,"DIV",{class:!0});var w=k(a);p=N(w,c),w.forEach(u),this.h()},h(){m(s,"class","from svelte-a8kia8"),m(l,"class","to svelte-a8kia8"),m(e,"class","from_to_container svelte-a8kia8"),m(a,"class","text svelte-a8kia8")},m(h,d){y(h,e,d),v(e,s),v(s,r),v(e,o),v(e,l),v(l,n),y(h,_,d),y(h,a,d),v(a,p)},p(h,d){d&1&&t!==(t=h[9].prevExpression+"")&&R(r,t),d&1&&f!==(f=h[9].expression+"")&&R(n,f),d&1&&c!==(c=h[9].step+"")&&R(p,c)},d(h){h&&u(e),h&&u(_),h&&u(a)}}}function ne(i){let e,s=i[6].templateName+"",t,r,o,l=i[6].steps,f=[];for(let n=0;n<l.length;n+=1)f[n]=ie(oe(i,l,n));return{c(){e=g("h4"),t=M(s),r=T(),o=g("div");for(let n=0;n<f.length;n+=1)f[n].c();this.h()},l(n){e=b(n,"H4",{class:!0});var _=k(e);t=N(_,s),_.forEach(u),r=j(n),o=b(n,"DIV",{class:!0});var a=k(o);for(let c=0;c<f.length;c+=1)f[c].l(a);a.forEach(u),this.h()},h(){m(e,"class","solutionName svelte-a8kia8"),m(o,"class","steps svelte-a8kia8")},m(n,_){y(n,e,_),v(e,t),y(n,r,_),y(n,o,_);for(let a=0;a<f.length;a+=1)f[a].m(o,null)},p(n,_){if(_&1&&s!==(s=n[6].templateName+"")&&R(t,s),_&1){l=n[6].steps;let a;for(a=0;a<l.length;a+=1){const c=oe(n,l,a);f[a]?f[a].p(c,_):(f[a]=ie(c),f[a].c(),f[a].m(o,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=l.length}},d(n){n&&u(e),n&&u(r),n&&u(o),K(f,n)}}}function ce(i){let e,s,t=i[3].actionName+"",r,o,l,f=i[3].solution+"",n,_,a=i[3].templateSteps,c=[];for(let p=0;p<a.length;p+=1)c[p]=ne(ae(i,a,p));return{c(){e=g("div"),s=g("h2"),r=M(t),o=T(),l=g("div"),n=T();for(let p=0;p<c.length;p+=1)c[p].c();_=T(),this.h()},l(p){e=b(p,"DIV",{class:!0});var h=k(e);s=b(h,"H2",{class:!0});var d=k(s);r=N(d,t),d.forEach(u),o=j(h),l=b(h,"DIV",{class:!0});var V=k(l);V.forEach(u),n=j(h);for(let I=0;I<c.length;I+=1)c[I].l(h);_=j(h),h.forEach(u),this.h()},h(){m(s,"class","actionName svelte-a8kia8"),m(l,"class","solution_text svelte-a8kia8"),m(e,"class","action svelte-a8kia8")},m(p,h){y(p,e,h),v(e,s),v(s,r),v(e,o),v(e,l),l.innerHTML=f,v(e,n);for(let d=0;d<c.length;d+=1)c[d].m(e,null);v(e,_)},p(p,h){if(h&1&&t!==(t=p[3].actionName+"")&&R(r,t),h&1&&f!==(f=p[3].solution+"")&&(l.innerHTML=f),h&1){a=p[3].templateSteps;let d;for(d=0;d<a.length;d+=1){const V=ae(p,a,d);c[d]?c[d].p(V,h):(c[d]=ne(V),c[d].c(),c[d].m(e,_))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(p){p&&u(e),K(c,p)}}}function qe(i){let e,s=i[0].actions,t=[];for(let r=0;r<s.length;r+=1)t[r]=ce(re(i,s,r));return{c(){e=g("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var o=k(e);for(let l=0;l<t.length;l+=1)t[l].l(o);o.forEach(u),this.h()},h(){m(e,"class","result_container")},m(r,o){y(r,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null);i[2](e)},p(r,[o]){if(o&1){s=r[0].actions;let l;for(l=0;l<s.length;l+=1){const f=re(r,s,l);t[l]?t[l].p(f,o):(t[l]=ce(f),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},i:x,o:x,d(r){r&&u(e),K(t,r),i[2](null)}}}function Oe(i,e,s){let{result:t={}}=e,r=document.body;_e(()=>{console.log("Result component: ",t)}),Ie(()=>{var l;console.log(window.renderMathInElement),(l=window==null?void 0:window.renderMathInElement)==null||l.call(window,r,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});function o(l){de[l?"unshift":"push"](()=>{r=l,s(1,r)})}return i.$$set=l=>{"result"in l&&s(0,t=l.result)},[t,r,o]}class Re extends ue{constructor(e){super(),fe(this,e,Oe,qe,he,{result:0})}}function xe(i){let e;function s(o,l){return o[2]&&o[2].value?Le:$e}let t=s(i),r=t(i);return{c(){e=g("div"),r.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var l=k(e);r.l(l),l.forEach(u),this.h()},h(){m(e,"class","prompt_message svelte-1ar066e")},m(o,l){y(o,e,l),r.m(e,null)},p(o,l){t!==(t=s(o))&&(r.d(1),r=t(o),r&&(r.c(),r.m(e,null)))},i:x,o:x,d(o){o&&u(e),r.d()}}}function Ce(i){let e,s,t,r;const o=[Pe,Ae],l=[];function f(n,_){return n[0].isError?0:1}return e=f(i),s=l[e]=o[e](i),{c(){s.c(),t=se()},l(n){s.l(n),t=se()},m(n,_){l[e].m(n,_),y(n,t,_),r=!0},p(n,_){let a=e;e=f(n),e===a?l[e].p(n,_):(ve(),$(l[a],1,1,()=>{l[a]=null}),pe(),s=l[e],s?s.p(n,_):(s=l[e]=o[e](n),s.c()),L(s,1),s.m(t.parentNode,t))},i(n){r||(L(s),r=!0)},o(n){$(s),r=!1},d(n){l[e].d(n),n&&u(t)}}}function $e(i){let e;return{c(){e=M("Enter a math formula to solve!")},l(s){e=N(s,"Enter a math formula to solve!")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function Le(i){let e;return{c(){e=M("Click solve to try to solve!")},l(s){e=N(s,"Click solve to try to solve!")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function Ae(i){let e,s;return e=new Re({props:{result:i[0]}}),{c(){Me(e.$$.fragment)},l(t){Ne(e.$$.fragment,t)},m(t,r){Te(e,t,r),s=!0},p(t,r){const o={};r&1&&(o.result=t[0]),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){je(e,t)}}}function Pe(i){let e,s,t=(i[0].errorDisplayMessage||i[0].errorMessage||"Math invalid")+"",r;return{c(){e=g("span"),s=M("There was an error: "),r=M(t),this.h()},l(o){e=b(o,"SPAN",{class:!0});var l=k(e);s=N(l,"There was an error: "),r=N(l,t),l.forEach(u),this.h()},h(){m(e,"class","error svelte-1ar066e")},m(o,l){y(o,e,l),v(e,s),v(e,r)},p(o,l){l&1&&t!==(t=(o[0].errorDisplayMessage||o[0].errorMessage||"Math invalid")+"")&&R(r,t)},i:x,o:x,d(o){o&&u(e)}}}function He(i){let e,s,t,r,o,l,f,n,_,a,c,p,h,d,V,I,w,S,A,H,G;const W=[Ce,xe],q=[];function z(E,D){return E[0]?0:1}return w=z(i),S=q[w]=W[w](i),{c(){e=g("script"),t=g("link"),r=g("script"),l=g("script"),n=T(),_=g("div"),a=g("div"),c=g("math-field"),p=T(),h=g("button"),d=M("Solve"),V=T(),I=g("div"),S.c(),this.h()},l(E){const D=Se('[data-svelte="svelte-1e56vpb"]',document.head);e=b(D,"SCRIPT",{src:!0,class:!0});var C=k(e);C.forEach(u),t=b(D,"LINK",{rel:!0,href:!0,class:!0}),r=b(D,"SCRIPT",{src:!0,class:!0});var me=k(r);me.forEach(u),l=b(D,"SCRIPT",{src:!0,class:!0});var ge=k(l);ge.forEach(u),D.forEach(u),n=j(E),_=b(E,"DIV",{class:!0});var Q=k(_);a=b(Q,"DIV",{class:!0});var O=k(a);c=b(O,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),k(c).forEach(u),p=j(O),h=b(O,"BUTTON",{class:!0});var X=k(h);d=N(X,"Solve"),X.forEach(u),V=j(O),I=b(O,"DIV",{class:!0});var Y=k(I);S.l(Y),Y.forEach(u),O.forEach(u),Q.forEach(u),this.h()},h(){U(e.src,s="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||m(e,"src",s),m(e,"class","svelte-1ar066e"),m(t,"rel","stylesheet"),m(t,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),m(t,"class","svelte-1ar066e"),r.defer=!0,U(r.src,o="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||m(r,"src",o),m(r,"class","svelte-1ar066e"),l.defer=!0,U(l.src,f="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||m(l,"src",f),m(l,"class","svelte-1ar066e"),P(c,"smart-mode",""),P(c,"defaultmode","math"),P(c,"virtual-keyboard-mode","manual"),P(c,"class","svelte-1ar066e"),m(h,"class","solve svelte-1ar066e"),m(I,"class","result svelte-1ar066e"),m(a,"class","inner_container svelte-1ar066e"),m(_,"class","container svelte-1ar066e")},m(E,D){v(document.head,e),v(document.head,t),v(document.head,r),v(document.head,l),y(E,n,D),y(E,_,D),v(_,a),v(a,c),i[5](c),v(a,p),v(a,h),v(h,d),v(a,V),v(a,I),q[w].m(I,null),A=!0,H||(G=[te(c,"input",i[4]),te(h,"click",i[3])],H=!0)},p(E,[D]){let C=w;w=z(E),w===C?q[w].p(E,D):(ve(),$(q[C],1,1,()=>{q[C]=null}),pe(),S=q[w],S?S.p(E,D):(S=q[w]=W[w](E),S.c()),L(S,1),S.m(I,null))},i(E){A||(L(S),A=!0)},o(E){$(S),A=!1},d(E){u(e),u(t),u(r),u(l),E&&u(n),E&&u(_),i[5](null),q[w].d(),H=!1,De(G)}}}function Be(i,e,s){let t;Ve(i,F,a=>s(6,t=a));let r=null,o=String.raw`x = 3, y = x^2`,l=null;_e(()=>{l.setValue(o),l.setOptions(J(B({},l.getOptions()),{smartSuperscript:!0,onKeystroke(a,c,p){return console.log({mf:a,key:c,ev:p}),c==="ctrl+[KeyA]"&&a.executeCommand("selectAll"),c==="ctrl+[Backspace]"&&a.setValue(""),(c==="ctrl+[Enter]"||c==="[Enter]")&&f(),!0},inlineShortcuts:J(B({},l.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function f(){le(F,t=!0,t);let a=o,c=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({latexExpression:a,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:a,showCustomResult:!1}),referrer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,referrerPolicy:"strict-origin-when-cross-origin",method:"POST"}})}).then(p=>p.json());s(0,r=JSON.parse(JSON.parse(c.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),le(F,t=!1,t)}const n=a=>s(1,o=a.target.value);function _(a){de[a?"unshift":"push"](()=>{l=a,s(2,l)})}return[r,o,l,f,n,_]}class Ge extends ue{constructor(e){super(),fe(this,e,Be,He,he,{})}}export{Ge as default};
