var Ne=Object.defineProperty,Te=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var de=(o,e,t)=>e in o?Ne(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,H=(o,e)=>{for(var t in e||(e={}))Ce.call(e,t)&&de(o,t,e[t]);if(pe)for(var t of pe(e))Ge.call(e,t)&&de(o,t,e[t]);return o},U=(o,e)=>Te(o,Ve(e));import{S as Q,i as ee,s as te,e as y,k as $,N as Ie,c as E,a as w,d as p,m as j,Z as O,b as v,F as g,g as S,E as A,v as se,$ as re,t as G,h as L,a1 as Le,O as X,j as P,n as Y,o as q,p as K,q as V,U as Re,L as le,w as ae,x as ie,y as oe,B as ne,V as Me,u as qe,I as Z,J as F,al as W,W as fe,l as me}from"../chunks/index-b92f0203.js";import{l as J}from"../chunks/store-06e9ac32.js";import{T as Ae}from"../chunks/TippyStyles-f191e2a6.js";import{u as _e,t as Oe}from"../chunks/tooltip-f617373c.js";import"../chunks/index-c9376b27.js";function Pe(o){let e,t,s,l,n,r,h,a;return{c(){e=y("script"),s=y("script"),n=y("script"),h=$(),a=y("canvas"),this.h()},l(u){const c=Ie('[data-svelte="svelte-1i3dr7q"]',document.head);e=E(c,"SCRIPT",{src:!0});var i=w(e);i.forEach(p),s=E(c,"SCRIPT",{src:!0});var d=w(s);d.forEach(p),n=E(c,"SCRIPT",{src:!0});var f=w(n);f.forEach(p),c.forEach(p),h=j(u),a=E(u,"CANVAS",{class:!0}),w(a).forEach(p),this.h()},h(){O(e.src,t="https://cdn.jsdelivr.net/npm/chart.js")||v(e,"src",t),O(s.src,l="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8")||v(s,"src",l),s.defer=!0,O(n.src,r="https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js")||v(n,"src",r),n.defer=!0,v(a,"class","chart")},m(u,c){g(document.head,e),g(document.head,s),g(document.head,n),S(u,h,c),S(u,a,c),o[3](a)},p:A,i:A,o:A,d(u){p(e),p(s),p(n),u&&p(h),u&&p(a),o[3](null)}}}function Be(o,e,t){let s,{limits:l={}}=e,{graphs:n=[]}=e;se(async()=>{const h=await _e(()=>window.Chart);fetch("https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js").then(a=>a.text()).then(eval).then(()=>{_e(()=>window.ChartZoom).then(()=>h.register(window.ChartZoom))}),new h(s,{type:"line",data:{datasets:n.map(a=>({label:a.name,tension:.3,pointRadius:0,borderColor:["#357B85"],data:a.points}))},options:{responsive:!0,scales:{y:{suggestedMin:l.minY,suggestedMax:l.maxY,type:"linear",position:"right"},x:{suggestedMin:l.minX,suggestedMax:l.maxX,type:"linear",position:"bottom"}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0}}},responsive:!0,maintainAspectRatio:!0}})});function r(h){re[h?"unshift":"push"](()=>{s=h,t(0,s)})}return o.$$set=h=>{"limits"in h&&t(1,l=h.limits),"graphs"in h&&t(2,n=h.graphs)},[s,l,n,r]}class ze extends Q{constructor(e){super(),ee(this,e,Be,Pe,te,{limits:1,graphs:2})}}function ge(o,e,t){const s=o.slice();return s[6]=e[t],s}function be(o,e,t){const s=o.slice();return s[9]=e[t],s}function we(o,e,t){const s=o.slice();return s[12]=e[t],s}function ke(o){let e,t,s=o[0].allGraphData[0].actionName+"",l,n,r,h,a,u,c,i,d,f;function m(b,R){return b[1]?He:Ue}let _=m(o),k=_(o);const D=[Je,We],x=[];function I(b,R){return b[1]?0:1}return u=I(o),c=x[u]=D[u](o),{c(){e=y("div"),t=y("h2"),l=G(s),n=$(),r=y("button"),k.c(),a=$(),c.c(),this.h()},l(b){e=E(b,"DIV",{class:!0});var R=w(e);t=E(R,"H2",{class:!0});var N=w(t);l=L(N,s),n=j(N),r=E(N,"BUTTON",{id:!0,class:!0});var C=w(r);k.l(C),C.forEach(p),N.forEach(p),a=j(R),c.l(R),R.forEach(p),this.h()},h(){v(r,"id","switch"),v(r,"class","svelte-13e5vsr"),v(t,"class","actionName graph_header svelte-13e5vsr"),v(e,"class","action svelte-13e5vsr")},m(b,R){S(b,e,R),g(e,t),g(t,l),g(t,n),g(t,r),k.m(r,null),g(e,a),x[u].m(e,null),i=!0,d||(f=[Le(h=Oe.call(null,r,{content:"Toggle between interactive graph and image"})),X(r,"click",o[4])],d=!0)},p(b,R){(!i||R&1)&&s!==(s=b[0].allGraphData[0].actionName+"")&&P(l,s),_!==(_=m(b))&&(k.d(1),k=_(b),k&&(k.c(),k.m(r,null)));let N=u;u=I(b),u===N?x[u].p(b,R):(Y(),q(x[N],1,1,()=>{x[N]=null}),K(),c=x[u],c?c.p(b,R):(c=x[u]=D[u](b),c.c()),V(c,1),c.m(e,null))},i(b){i||(V(c),i=!0)},o(b){q(c),i=!1},d(b){b&&p(e),k.d(),x[u].d(),d=!1,Re(f)}}}function He(o){let e,t;return{c(){e=Z("svg"),t=Z("path"),this.h()},l(s){e=F(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=F(l,"path",{fill:!0,"fill-rule":!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){v(t,"fill","currentColor"),v(t,"fill-rule","evenodd"),v(t,"d","M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61l4.15-5.073a.5.5 0 0 1 .704-.07Z"),v(t,"class","svelte-13e5vsr"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"class","iconify iconify--bi svelte-13e5vsr"),v(e,"width","32"),v(e,"height","32"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 16 16")},m(s,l){S(s,e,l),g(e,t)},d(s){s&&p(e)}}}function Ue(o){let e,t;return{c(){e=Z("svg"),t=Z("path"),this.h()},l(s){e=F(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=F(l,"path",{fill:!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){v(t,"fill","currentColor"),v(t,"d","M19 19H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-5.04 9.29l-2.75 3.54l-1.96-2.36L6.5 17h11l-3.54-4.71Z"),v(t,"class","svelte-13e5vsr"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"class","iconify iconify--mdi svelte-13e5vsr"),v(e,"width","32"),v(e,"height","32"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 24 24")},m(s,l){S(s,e,l),g(e,t)},d(s){s&&p(e)}}}function We(o){let e,t;return e=new ze({props:{graphs:o[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De),limits:o[0].allGraphData[0].displayRange}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.graphs=s[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De)),l&1&&(n.limits=s[0].allGraphData[0].displayRange),e.$set(n)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Je(o){let e,t,s;return{c(){e=y("img"),this.h()},l(l){e=E(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(e,"class","graph svelte-13e5vsr"),O(e.src,t=o[0].allGraphData[0].graphImageData)||v(e,"src",t),v(e,"alt",s="Graph of "+o[0].detectedLatex)},m(l,n){S(l,e,n)},p(l,n){n&1&&!O(e.src,t=l[0].allGraphData[0].graphImageData)&&v(e,"src",t),n&1&&s!==(s="Graph of "+l[0].detectedLatex)&&v(e,"alt",s)},i:A,o:A,d(l){l&&p(e)}}}function ye(o){let e,t,s=o[12].prevExpression+"",l,n,r,h=o[12].expression+"",a,u,c,i=o[12].step+"",d;return{c(){e=y("div"),t=y("div"),l=G(s),n=$(),r=y("div"),a=G(h),u=$(),c=y("div"),d=G(i),this.h()},l(f){e=E(f,"DIV",{class:!0});var m=w(e);t=E(m,"DIV",{class:!0});var _=w(t);l=L(_,s),_.forEach(p),n=j(m),r=E(m,"DIV",{class:!0});var k=w(r);a=L(k,h),k.forEach(p),m.forEach(p),u=j(f),c=E(f,"DIV",{class:!0});var D=w(c);d=L(D,i),D.forEach(p),this.h()},h(){v(t,"class","from svelte-13e5vsr"),v(r,"class","to svelte-13e5vsr"),v(e,"class","from_to_container svelte-13e5vsr"),v(c,"class","text svelte-13e5vsr")},m(f,m){S(f,e,m),g(e,t),g(t,l),g(e,n),g(e,r),g(r,a),S(f,u,m),S(f,c,m),g(c,d)},p(f,m){m&1&&s!==(s=f[12].prevExpression+"")&&P(l,s),m&1&&h!==(h=f[12].expression+"")&&P(a,h),m&1&&i!==(i=f[12].step+"")&&P(d,i)},d(f){f&&p(e),f&&p(u),f&&p(c)}}}function Ee(o){let e,t=o[9].templateName+"",s,l,n,r=o[9].steps,h=[];for(let a=0;a<r.length;a+=1)h[a]=ye(we(o,r,a));return{c(){e=y("h4"),s=G(t),l=$(),n=y("div");for(let a=0;a<h.length;a+=1)h[a].c();this.h()},l(a){e=E(a,"H4",{class:!0});var u=w(e);s=L(u,t),u.forEach(p),l=j(a),n=E(a,"DIV",{class:!0});var c=w(n);for(let i=0;i<h.length;i+=1)h[i].l(c);c.forEach(p),this.h()},h(){v(e,"class","solutionName svelte-13e5vsr"),v(n,"class","steps svelte-13e5vsr")},m(a,u){S(a,e,u),g(e,s),S(a,l,u),S(a,n,u);for(let c=0;c<h.length;c+=1)h[c].m(n,null)},p(a,u){if(u&1&&t!==(t=a[9].templateName+"")&&P(s,t),u&1){r=a[9].steps;let c;for(c=0;c<r.length;c+=1){const i=we(a,r,c);h[c]?h[c].p(i,u):(h[c]=ye(i),h[c].c(),h[c].m(n,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=r.length}},d(a){a&&p(e),a&&p(l),a&&p(n),le(h,a)}}}function xe(o){let e,t,s=o[6].actionName+"",l,n,r,h=o[6].solution+"",a,u,c=o[6].templateSteps,i=[];for(let d=0;d<c.length;d+=1)i[d]=Ee(be(o,c,d));return{c(){e=y("div"),t=y("h2"),l=G(s),n=$(),r=y("div"),a=$();for(let d=0;d<i.length;d+=1)i[d].c();u=$(),this.h()},l(d){e=E(d,"DIV",{class:!0});var f=w(e);t=E(f,"H2",{class:!0});var m=w(t);l=L(m,s),m.forEach(p),n=j(f),r=E(f,"DIV",{class:!0});var _=w(r);_.forEach(p),a=j(f);for(let k=0;k<i.length;k+=1)i[k].l(f);u=j(f),f.forEach(p),this.h()},h(){v(t,"class","actionName svelte-13e5vsr"),v(r,"class","solution_text svelte-13e5vsr"),v(e,"class","action svelte-13e5vsr")},m(d,f){S(d,e,f),g(e,t),g(t,l),g(e,n),g(e,r),r.innerHTML=h,g(e,a);for(let m=0;m<i.length;m+=1)i[m].m(e,null);g(e,u)},p(d,f){if(f&1&&s!==(s=d[6].actionName+"")&&P(l,s),f&1&&h!==(h=d[6].solution+"")&&(r.innerHTML=h),f&1){c=d[6].templateSteps;let m;for(m=0;m<c.length;m+=1){const _=be(d,c,m);i[m]?i[m].p(_,f):(i[m]=Ee(_),i[m].c(),i[m].m(e,u))}for(;m<i.length;m+=1)i[m].d(1);i.length=c.length}},d(d){d&&p(e),le(i,d)}}}function Ze(o){var u,c;let e,t,s,l,n;e=new Ae({});let r=((c=(u=o[0].allGraphData)==null?void 0:u[0])==null?void 0:c.graphImageData)&&!o[3]&&ke(o),h=o[0].actions,a=[];for(let i=0;i<h.length;i+=1)a[i]=xe(ge(o,h,i));return{c(){ae(e.$$.fragment),t=$(),s=y("div"),r&&r.c(),l=$();for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){ie(e.$$.fragment,i),t=j(i),s=E(i,"DIV",{class:!0});var d=w(s);r&&r.l(d),l=j(d);for(let f=0;f<a.length;f+=1)a[f].l(d);d.forEach(p),this.h()},h(){v(s,"class","result_container")},m(i,d){oe(e,i,d),S(i,t,d),S(i,s,d),r&&r.m(s,null),g(s,l);for(let f=0;f<a.length;f+=1)a[f].m(s,null);o[5](s),n=!0},p(i,[d]){var f,m;if(((m=(f=i[0].allGraphData)==null?void 0:f[0])==null?void 0:m.graphImageData)&&!i[3]?r?(r.p(i,d),d&9&&V(r,1)):(r=ke(i),r.c(),V(r,1),r.m(s,l)):r&&(Y(),q(r,1,1,()=>{r=null}),K()),d&1){h=i[0].actions;let _;for(_=0;_<h.length;_+=1){const k=ge(i,h,_);a[_]?a[_].p(k,d):(a[_]=xe(k),a[_].c(),a[_].m(s,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=h.length}},i(i){n||(V(e.$$.fragment,i),V(r),n=!0)},o(i){q(e.$$.fragment,i),q(r),n=!1},d(i){ne(e,i),i&&p(t),i&&p(s),r&&r.d(),le(a,i),o[5](null)}}}const Se=o=>{var e;return((e=o.pointGroups)==null?void 0:e.length)>1?o.pointGroups.map(t=>U(H({},o),{pointGroups:[t]})):o},De=o=>({name:o.curveExpression,points:o.pointGroups[0].points});function Fe(o,e,t){let s;Me(o,J,u=>t(3,s=u));let{result:l={}}=e,n=!0,r=document.body;se(()=>{console.log("Result component: ",l)}),qe(()=>{var u;console.log(window.renderMathInElement),(u=window==null?void 0:window.renderMathInElement)==null||u.call(window,r,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});const h=()=>t(1,n=!n);function a(u){re[u?"unshift":"push"](()=>{r=u,t(2,r)})}return o.$$set=u=>{"result"in u&&t(0,l=u.result)},[l,n,r,s,h,a]}class Ye extends Q{constructor(e){super(),ee(this,e,Fe,Ze,te,{result:0})}}function Ke(o){let e;function t(n,r){return n[2]&&n[2].value?et:Qe}let s=t(o),l=s(o);return{c(){e=y("div"),l.c(),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=w(e);l.l(r),r.forEach(p),this.h()},h(){v(e,"class","prompt_message svelte-i5sevh")},m(n,r){S(n,e,r),l.m(e,null)},p(n,r){s!==(s=t(n))&&(l.d(1),l=s(n),l&&(l.c(),l.m(e,null)))},i:A,o:A,d(n){n&&p(e),l.d()}}}function Xe(o){let e,t,s,l;const n=[st,tt],r=[];function h(a,u){return a[0].isError||a[3].isError?0:1}return e=h(o),t=r[e]=n[e](o),{c(){t.c(),s=me()},l(a){t.l(a),s=me()},m(a,u){r[e].m(a,u),S(a,s,u),l=!0},p(a,u){let c=e;e=h(a),e===c?r[e].p(a,u):(Y(),q(r[c],1,1,()=>{r[c]=null}),K(),t=r[e],t?t.p(a,u):(t=r[e]=n[e](a),t.c()),V(t,1),t.m(s.parentNode,s))},i(a){l||(V(t),l=!0)},o(a){q(t),l=!1},d(a){r[e].d(a),a&&p(s)}}}function Qe(o){let e;return{c(){e=G("Enter a math formula to solve!")},l(t){e=L(t,"Enter a math formula to solve!")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function et(o){let e;return{c(){e=G("Click solve to try to solve!")},l(t){e=L(t,"Click solve to try to solve!")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function tt(o){let e,t;return e=new Ye({props:{result:o[0]}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.result=s[0]),e.$set(n)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function st(o){let e,t,s=(o[3].errorMessage||o[0].errorDisplayMessage||o[0].errorMessage||"Math invalid")+"",l;return{c(){e=y("span"),t=G("There was an error: "),l=G(s),this.h()},l(n){e=E(n,"SPAN",{class:!0});var r=w(e);t=L(r,"There was an error: "),l=L(r,s),r.forEach(p),this.h()},h(){v(e,"class","error svelte-i5sevh")},m(n,r){S(n,e,r),g(e,t),g(e,l)},p(n,r){r&9&&s!==(s=(n[3].errorMessage||n[0].errorDisplayMessage||n[0].errorMessage||"Math invalid")+"")&&P(l,s)},i:A,o:A,d(n){n&&p(e)}}}function rt(o){let e,t,s,l,n,r,h,a,u,c,i,d,f,m,_,k,D,x,I,b,R;const N=[Xe,Ke],C=[];function ce(M,T){return M[0]?0:1}return D=ce(o),x=C[D]=N[D](o),{c(){e=y("script"),s=y("link"),l=y("script"),r=y("script"),a=$(),u=y("div"),c=y("div"),i=y("math-field"),d=$(),f=y("button"),m=G("Solve"),_=$(),k=y("div"),x.c(),this.h()},l(M){const T=Ie('[data-svelte="svelte-1e56vpb"]',document.head);e=E(T,"SCRIPT",{src:!0,class:!0});var z=w(e);z.forEach(p),s=E(T,"LINK",{rel:!0,href:!0,class:!0}),l=E(T,"SCRIPT",{src:!0,class:!0});var $e=w(l);$e.forEach(p),r=E(T,"SCRIPT",{src:!0,class:!0});var je=w(r);je.forEach(p),T.forEach(p),a=j(M),u=E(M,"DIV",{class:!0});var ue=w(u);c=E(ue,"DIV",{class:!0});var B=w(c);i=E(B,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),w(i).forEach(p),d=j(B),f=E(B,"BUTTON",{class:!0});var he=w(f);m=L(he,"Solve"),he.forEach(p),_=j(B),k=E(B,"DIV",{class:!0});var ve=w(k);x.l(ve),ve.forEach(p),B.forEach(p),ue.forEach(p),this.h()},h(){O(e.src,t="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||v(e,"src",t),v(e,"class","svelte-i5sevh"),v(s,"rel","stylesheet"),v(s,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),v(s,"class","svelte-i5sevh"),l.defer=!0,O(l.src,n="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||v(l,"src",n),v(l,"class","svelte-i5sevh"),r.defer=!0,O(r.src,h="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||v(r,"src",h),v(r,"class","svelte-i5sevh"),W(i,"smart-mode",""),W(i,"defaultmode","math"),W(i,"virtual-keyboard-mode","manual"),W(i,"class","svelte-i5sevh"),v(f,"class","solve svelte-i5sevh"),v(k,"class","result svelte-i5sevh"),v(c,"class","inner_container svelte-i5sevh"),v(u,"class","container svelte-i5sevh")},m(M,T){g(document.head,e),g(document.head,s),g(document.head,l),g(document.head,r),S(M,a,T),S(M,u,T),g(u,c),g(c,i),o[6](i),g(c,d),g(c,f),g(f,m),g(c,_),g(c,k),C[D].m(k,null),I=!0,b||(R=[X(i,"input",o[5]),X(f,"click",o[4])],b=!0)},p(M,[T]){let z=D;D=ce(M),D===z?C[D].p(M,T):(Y(),q(C[z],1,1,()=>{C[z]=null}),K(),x=C[D],x?x.p(M,T):(x=C[D]=N[D](M),x.c()),V(x,1),x.m(k,null))},i(M){I||(V(x),I=!0)},o(M){q(x),I=!1},d(M){p(e),p(s),p(l),p(r),M&&p(a),M&&p(u),o[6](null),C[D].d(),b=!1,Re(R)}}}function lt(o,e,t){let s;Me(o,J,i=>t(7,s=i));let l=null,n=String.raw`x = 3, y = x^2`,r=null,h={};se(()=>{window.mathField=r,r.setValue(new URLSearchParams(location.search).get("q")||n),new URLSearchParams(location.search).get("q")&&setTimeout(a),r.setOptions(U(H({},r.getOptions()),{smartSuperscript:!0,onKeystroke(i,d,f){d==="ctrl+[KeyA]"&&i.executeCommand("selectAll");const m=String.raw`\left.\begin{cases}`,_=String.raw`\end{cases}\right.`,k=String.raw`\placeholder{New equation}`,D=String.raw`\\{${k}}${_}`;if(d==="shift+[Enter]"){let I=r.value;if(I.startsWith(m)){console.log({START:m,ENDCASES:_},I.includes(_));let b=I.replace(new RegExp(`^${x(m)}`),"").replace(new RegExp(`${x(_)}$`),"");console.log(b),i.setValue(`${m}${b}${D}`)}else{let b=r.position;i.setValue(m+`{${r.value}}`+D),t(2,r.position=b+7,r)}}function x(I){return I.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(d==="[Backspace]"){if(r.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){r.setValue("");return}let I=r.value,b=String.raw`\\ {}`;if(console.log({val:I},I.startsWith(m),I.endsWith(b+_),b+_),I.startsWith(m)&&(I.endsWith(b+_)||I.endsWith(b+" "+_))){let R=I.replace(new RegExp(`^${x(m)}`),"").replace(new RegExp(`${x(b)}[ \\\\]*${x(_)}$`),"");console.log(R);let N=r.position;r.setValue(`${m}${R}${_}`),t(2,r.position=N-3,r)}}return d==="ctrl+[Backspace]"&&i.setValue(""),(d==="ctrl+[Enter]"||d==="[Enter]")&&a(),!0},inlineShortcuts:U(H({},r.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function a(){fe(J,s=!0,s);let i=n,d=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({latexExpression:i,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:i,showCustomResult:!1}),referrer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(i)}`,referrerPolicy:"strict-origin-when-cross-origin",method:"POST"}})}).then(_=>_.json());t(0,l=JSON.parse(JSON.parse(d.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),t(3,h=JSON.parse(d.json.results[0].tags[0].actions[0].customData)),console.log(h);let f=new URL(location),m=new URLSearchParams(location.search);m.set("q",l.detectedLatex),f.search=m,history.pushState({result:l},"Math solver",f),fe(J,s=!1,s)}const u=i=>t(1,n=i.target.value);function c(i){re[i?"unshift":"push"](()=>{r=i,t(2,r)})}return[l,n,r,h,a,u,c]}class ht extends Q{constructor(e){super(),ee(this,e,lt,rt,te,{})}}export{ht as default};
