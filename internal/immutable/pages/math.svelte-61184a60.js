var Te=Object.defineProperty,Ne=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var de=(a,e,t)=>e in a?Te(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,z=(a,e)=>{for(var t in e||(e={}))Ve.call(e,t)&&de(a,t,e[t]);if(pe)for(var t of pe(e))Ae.call(e,t)&&de(a,t,e[t]);return a},H=(a,e)=>Ne(a,je(e));import{S as Q,i as ee,s as te,e as y,k as $,N as Ie,c as x,a as w,d as p,m as C,Z as q,b as v,F as g,g as S,E as O,v as se,$ as re,t as A,h as G,a1 as Ge,O as Y,j as U,n as F,o as L,p as X,q as j,U as Me,L as le,w as ae,x as ie,y as oe,B as ne,V as Re,u as Le,I as K,J as Z,al as W,W as fe,l as me}from"../chunks/index-b92f0203.js";import{l as J}from"../chunks/store-06e9ac32.js";import{T as Oe}from"../chunks/TippyStyles-f191e2a6.js";import{u as _e,t as qe}from"../chunks/tooltip-f617373c.js";import"../chunks/index-c9376b27.js";function Ue(a){let e,t,s,l,n,r,u,i;return{c(){e=y("script"),s=y("script"),n=y("script"),u=$(),i=y("canvas"),this.h()},l(h){const c=Ie('[data-svelte="svelte-1i3dr7q"]',document.head);e=x(c,"SCRIPT",{src:!0});var o=w(e);o.forEach(p),s=x(c,"SCRIPT",{src:!0});var d=w(s);d.forEach(p),n=x(c,"SCRIPT",{src:!0});var f=w(n);f.forEach(p),c.forEach(p),u=C(h),i=x(h,"CANVAS",{class:!0}),w(i).forEach(p),this.h()},h(){q(e.src,t="https://cdn.jsdelivr.net/npm/chart.js")||v(e,"src",t),q(s.src,l="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8")||v(s,"src",l),s.defer=!0,q(n.src,r="https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js")||v(n,"src",r),n.defer=!0,v(i,"class","chart")},m(h,c){g(document.head,e),g(document.head,s),g(document.head,n),S(h,u,c),S(h,i,c),a[3](i)},p:O,i:O,o:O,d(h){p(e),p(s),p(n),h&&p(u),h&&p(i),a[3](null)}}}function Pe(a,e,t){let s,{limits:l={}}=e,{graphs:n=[]}=e;se(async()=>{const u=await _e(()=>window.Chart);fetch("https://unpkg.com/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js").then(i=>i.text()).then(eval).then(()=>{_e(()=>window.ChartZoom).then(()=>u.register(window.ChartZoom))}),new u(s,{type:"line",data:{datasets:n.map(i=>({label:i.name,tension:.3,pointRadius:0,borderColor:["#357B85"],data:i.points}))},options:{responsive:!0,scales:{y:{suggestedMin:l.minY,suggestedMax:l.maxY,type:"linear",position:"right"},x:{suggestedMin:l.minX,suggestedMax:l.maxX,type:"linear",position:"bottom"}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0}}},responsive:!0,maintainAspectRatio:!0}})});function r(u){re[u?"unshift":"push"](()=>{s=u,t(0,s)})}return a.$$set=u=>{"limits"in u&&t(1,l=u.limits),"graphs"in u&&t(2,n=u.graphs)},[s,l,n,r]}class Be extends Q{constructor(e){super(),ee(this,e,Pe,Ue,te,{limits:1,graphs:2})}}function ge(a,e,t){const s=a.slice();return s[6]=e[t],s}function be(a,e,t){const s=a.slice();return s[9]=e[t],s}function we(a,e,t){const s=a.slice();return s[12]=e[t],s}function ke(a){let e,t,s=a[0].allGraphData[0].actionName+"",l,n,r,u,i,h,c,o,d,f;function m(b,M){return b[1]?ze:He}let _=m(a),k=_(a);const D=[Je,We],E=[];function I(b,M){return b[1]?0:1}return h=I(a),c=E[h]=D[h](a),{c(){e=y("div"),t=y("h2"),l=A(s),n=$(),r=y("button"),k.c(),i=$(),c.c(),this.h()},l(b){e=x(b,"DIV",{class:!0});var M=w(e);t=x(M,"H2",{class:!0});var T=w(t);l=G(T,s),n=C(T),r=x(T,"BUTTON",{id:!0,class:!0});var V=w(r);k.l(V),V.forEach(p),T.forEach(p),i=C(M),c.l(M),M.forEach(p),this.h()},h(){v(r,"id","switch"),v(r,"class","svelte-13e5vsr"),v(t,"class","actionName graph_header svelte-13e5vsr"),v(e,"class","action svelte-13e5vsr")},m(b,M){S(b,e,M),g(e,t),g(t,l),g(t,n),g(t,r),k.m(r,null),g(e,i),E[h].m(e,null),o=!0,d||(f=[Ge(u=qe.call(null,r,{content:"Toggle between interactive graph and image"})),Y(r,"click",a[4])],d=!0)},p(b,M){(!o||M&1)&&s!==(s=b[0].allGraphData[0].actionName+"")&&U(l,s),_!==(_=m(b))&&(k.d(1),k=_(b),k&&(k.c(),k.m(r,null)));let T=h;h=I(b),h===T?E[h].p(b,M):(F(),L(E[T],1,1,()=>{E[T]=null}),X(),c=E[h],c?c.p(b,M):(c=E[h]=D[h](b),c.c()),j(c,1),c.m(e,null))},i(b){o||(j(c),o=!0)},o(b){L(c),o=!1},d(b){b&&p(e),k.d(),E[h].d(),d=!1,Me(f)}}}function ze(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=Z(l,"path",{fill:!0,"fill-rule":!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){v(t,"fill","currentColor"),v(t,"fill-rule","evenodd"),v(t,"d","M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61l4.15-5.073a.5.5 0 0 1 .704-.07Z"),v(t,"class","svelte-13e5vsr"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"class","iconify iconify--bi svelte-13e5vsr"),v(e,"width","32"),v(e,"height","32"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 16 16")},m(s,l){S(s,e,l),g(e,t)},d(s){s&&p(e)}}}function He(a){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(s){e=Z(s,"svg",{xmlns:!0,"xmlns:xlink":!0,"aria-hidden":!0,role:!0,class:!0,width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=w(e);t=Z(l,"path",{fill:!0,d:!0,class:!0}),w(t).forEach(p),l.forEach(p),this.h()},h(){v(t,"fill","currentColor"),v(t,"d","M19 19H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-5.04 9.29l-2.75 3.54l-1.96-2.36L6.5 17h11l-3.54-4.71Z"),v(t,"class","svelte-13e5vsr"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"class","iconify iconify--mdi svelte-13e5vsr"),v(e,"width","32"),v(e,"height","32"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 24 24")},m(s,l){S(s,e,l),g(e,t)},d(s){s&&p(e)}}}function We(a){let e,t;return e=new Be({props:{graphs:a[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De),limits:a[0].allGraphData[0].displayRange}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.graphs=s[0].allGraphData[0].rawGraphData.curveData.map(Se).flat().map(De)),l&1&&(n.limits=s[0].allGraphData[0].displayRange),e.$set(n)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Je(a){let e,t,s;return{c(){e=y("img"),this.h()},l(l){e=x(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(e,"class","graph svelte-13e5vsr"),q(e.src,t=a[0].allGraphData[0].graphImageData)||v(e,"src",t),v(e,"alt",s="Graph of "+a[0].detectedLatex)},m(l,n){S(l,e,n)},p(l,n){n&1&&!q(e.src,t=l[0].allGraphData[0].graphImageData)&&v(e,"src",t),n&1&&s!==(s="Graph of "+l[0].detectedLatex)&&v(e,"alt",s)},i:O,o:O,d(l){l&&p(e)}}}function ye(a){let e,t,s=a[12].prevExpression+"",l,n,r,u=a[12].expression+"",i,h,c,o=a[12].step+"",d;return{c(){e=y("div"),t=y("div"),l=A(s),n=$(),r=y("div"),i=A(u),h=$(),c=y("div"),d=A(o),this.h()},l(f){e=x(f,"DIV",{class:!0});var m=w(e);t=x(m,"DIV",{class:!0});var _=w(t);l=G(_,s),_.forEach(p),n=C(m),r=x(m,"DIV",{class:!0});var k=w(r);i=G(k,u),k.forEach(p),m.forEach(p),h=C(f),c=x(f,"DIV",{class:!0});var D=w(c);d=G(D,o),D.forEach(p),this.h()},h(){v(t,"class","from svelte-13e5vsr"),v(r,"class","to svelte-13e5vsr"),v(e,"class","from_to_container svelte-13e5vsr"),v(c,"class","text svelte-13e5vsr")},m(f,m){S(f,e,m),g(e,t),g(t,l),g(e,n),g(e,r),g(r,i),S(f,h,m),S(f,c,m),g(c,d)},p(f,m){m&1&&s!==(s=f[12].prevExpression+"")&&U(l,s),m&1&&u!==(u=f[12].expression+"")&&U(i,u),m&1&&o!==(o=f[12].step+"")&&U(d,o)},d(f){f&&p(e),f&&p(h),f&&p(c)}}}function xe(a){let e,t=a[9].templateName+"",s,l,n,r=a[9].steps,u=[];for(let i=0;i<r.length;i+=1)u[i]=ye(we(a,r,i));return{c(){e=y("h4"),s=A(t),l=$(),n=y("div");for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l(i){e=x(i,"H4",{class:!0});var h=w(e);s=G(h,t),h.forEach(p),l=C(i),n=x(i,"DIV",{class:!0});var c=w(n);for(let o=0;o<u.length;o+=1)u[o].l(c);c.forEach(p),this.h()},h(){v(e,"class","solutionName svelte-13e5vsr"),v(n,"class","steps svelte-13e5vsr")},m(i,h){S(i,e,h),g(e,s),S(i,l,h),S(i,n,h);for(let c=0;c<u.length;c+=1)u[c].m(n,null)},p(i,h){if(h&1&&t!==(t=i[9].templateName+"")&&U(s,t),h&1){r=i[9].steps;let c;for(c=0;c<r.length;c+=1){const o=we(i,r,c);u[c]?u[c].p(o,h):(u[c]=ye(o),u[c].c(),u[c].m(n,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=r.length}},d(i){i&&p(e),i&&p(l),i&&p(n),le(u,i)}}}function Ee(a){let e,t,s=a[6].actionName+"",l,n,r,u=a[6].solution+"",i,h,c=a[6].templateSteps,o=[];for(let d=0;d<c.length;d+=1)o[d]=xe(be(a,c,d));return{c(){e=y("div"),t=y("h2"),l=A(s),n=$(),r=y("div"),i=$();for(let d=0;d<o.length;d+=1)o[d].c();h=$(),this.h()},l(d){e=x(d,"DIV",{class:!0});var f=w(e);t=x(f,"H2",{class:!0});var m=w(t);l=G(m,s),m.forEach(p),n=C(f),r=x(f,"DIV",{class:!0});var _=w(r);_.forEach(p),i=C(f);for(let k=0;k<o.length;k+=1)o[k].l(f);h=C(f),f.forEach(p),this.h()},h(){v(t,"class","actionName svelte-13e5vsr"),v(r,"class","solution_text svelte-13e5vsr"),v(e,"class","action svelte-13e5vsr")},m(d,f){S(d,e,f),g(e,t),g(t,l),g(e,n),g(e,r),r.innerHTML=u,g(e,i);for(let m=0;m<o.length;m+=1)o[m].m(e,null);g(e,h)},p(d,f){if(f&1&&s!==(s=d[6].actionName+"")&&U(l,s),f&1&&u!==(u=d[6].solution+"")&&(r.innerHTML=u),f&1){c=d[6].templateSteps;let m;for(m=0;m<c.length;m+=1){const _=be(d,c,m);o[m]?o[m].p(_,f):(o[m]=xe(_),o[m].c(),o[m].m(e,h))}for(;m<o.length;m+=1)o[m].d(1);o.length=c.length}},d(d){d&&p(e),le(o,d)}}}function Ke(a){var h,c;let e,t,s,l,n;e=new Oe({});let r=((c=(h=a[0].allGraphData)==null?void 0:h[0])==null?void 0:c.graphImageData)&&!a[3]&&ke(a),u=a[0].actions,i=[];for(let o=0;o<u.length;o+=1)i[o]=Ee(ge(a,u,o));return{c(){ae(e.$$.fragment),t=$(),s=y("div"),r&&r.c(),l=$();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){ie(e.$$.fragment,o),t=C(o),s=x(o,"DIV",{class:!0});var d=w(s);r&&r.l(d),l=C(d);for(let f=0;f<i.length;f+=1)i[f].l(d);d.forEach(p),this.h()},h(){v(s,"class","result_container")},m(o,d){oe(e,o,d),S(o,t,d),S(o,s,d),r&&r.m(s,null),g(s,l);for(let f=0;f<i.length;f+=1)i[f].m(s,null);a[5](s),n=!0},p(o,[d]){var f,m;if(((m=(f=o[0].allGraphData)==null?void 0:f[0])==null?void 0:m.graphImageData)&&!o[3]?r?(r.p(o,d),d&9&&j(r,1)):(r=ke(o),r.c(),j(r,1),r.m(s,l)):r&&(F(),L(r,1,1,()=>{r=null}),X()),d&1){u=o[0].actions;let _;for(_=0;_<u.length;_+=1){const k=ge(o,u,_);i[_]?i[_].p(k,d):(i[_]=Ee(k),i[_].c(),i[_].m(s,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=u.length}},i(o){n||(j(e.$$.fragment,o),j(r),n=!0)},o(o){L(e.$$.fragment,o),L(r),n=!1},d(o){ne(e,o),o&&p(t),o&&p(s),r&&r.d(),le(i,o),a[5](null)}}}const Se=a=>{var e;return((e=a.pointGroups)==null?void 0:e.length)>1?a.pointGroups.map(t=>H(z({},a),{pointGroups:[t]})):a},De=a=>({name:a.curveExpression,points:a.pointGroups[0].points});function Ze(a,e,t){let s;Re(a,J,h=>t(3,s=h));let{result:l={}}=e,n=!0,r=document.body;se(()=>{console.log("Result component: ",l)}),Le(()=>{var h;console.log(window.renderMathInElement),(h=window==null?void 0:window.renderMathInElement)==null||h.call(window,r,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})});const u=()=>t(1,n=!n);function i(h){re[h?"unshift":"push"](()=>{r=h,t(2,r)})}return a.$$set=h=>{"result"in h&&t(0,l=h.result)},[l,n,r,s,u,i]}class Fe extends Q{constructor(e){super(),ee(this,e,Ze,Ke,te,{result:0})}}function Xe(a){let e;function t(n,r){return n[2]&&n[2].value?et:Qe}let s=t(a),l=s(a);return{c(){e=y("div"),l.c(),this.h()},l(n){e=x(n,"DIV",{class:!0});var r=w(e);l.l(r),r.forEach(p),this.h()},h(){v(e,"class","prompt_message svelte-i5sevh")},m(n,r){S(n,e,r),l.m(e,null)},p(n,r){s!==(s=t(n))&&(l.d(1),l=s(n),l&&(l.c(),l.m(e,null)))},i:O,o:O,d(n){n&&p(e),l.d()}}}function Ye(a){let e,t,s,l;const n=[st,tt],r=[];function u(i,h){return i[0].isError||i[3].isError?0:1}return e=u(a),t=r[e]=n[e](a),{c(){t.c(),s=me()},l(i){t.l(i),s=me()},m(i,h){r[e].m(i,h),S(i,s,h),l=!0},p(i,h){let c=e;e=u(i),e===c?r[e].p(i,h):(F(),L(r[c],1,1,()=>{r[c]=null}),X(),t=r[e],t?t.p(i,h):(t=r[e]=n[e](i),t.c()),j(t,1),t.m(s.parentNode,s))},i(i){l||(j(t),l=!0)},o(i){L(t),l=!1},d(i){r[e].d(i),i&&p(s)}}}function Qe(a){let e;return{c(){e=A("Enter a math formula to solve!")},l(t){e=G(t,"Enter a math formula to solve!")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function et(a){let e;return{c(){e=A("Click solve to try to solve!")},l(t){e=G(t,"Click solve to try to solve!")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function tt(a){let e,t;return e=new Fe({props:{result:a[0]}}),{c(){ae(e.$$.fragment)},l(s){ie(e.$$.fragment,s)},m(s,l){oe(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.result=s[0]),e.$set(n)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function st(a){let e,t,s=(a[3].errorMessage||a[0].errorDisplayMessage||a[0].errorMessage||"Math invalid")+"",l;return{c(){e=y("span"),t=A("There was an error: "),l=A(s),this.h()},l(n){e=x(n,"SPAN",{class:!0});var r=w(e);t=G(r,"There was an error: "),l=G(r,s),r.forEach(p),this.h()},h(){v(e,"class","error svelte-i5sevh")},m(n,r){S(n,e,r),g(e,t),g(e,l)},p(n,r){r&9&&s!==(s=(n[3].errorMessage||n[0].errorDisplayMessage||n[0].errorMessage||"Math invalid")+"")&&U(l,s)},i:O,o:O,d(n){n&&p(e)}}}function rt(a){let e,t,s,l,n,r,u,i,h,c,o,d,f,m,_,k,D,E,I,b,M;const T=[Ye,Xe],V=[];function ce(R,N){return R[0]?0:1}return D=ce(a),E=V[D]=T[D](a),{c(){e=y("script"),s=y("link"),l=y("script"),r=y("script"),i=$(),h=y("div"),c=y("div"),o=y("math-field"),d=$(),f=y("button"),m=A("Solve"),_=$(),k=y("div"),E.c(),this.h()},l(R){const N=Ie('[data-svelte="svelte-1e56vpb"]',document.head);e=x(N,"SCRIPT",{src:!0,class:!0});var B=w(e);B.forEach(p),s=x(N,"LINK",{rel:!0,href:!0,class:!0}),l=x(N,"SCRIPT",{src:!0,class:!0});var $e=w(l);$e.forEach(p),r=x(N,"SCRIPT",{src:!0,class:!0});var Ce=w(r);Ce.forEach(p),N.forEach(p),i=C(R),h=x(R,"DIV",{class:!0});var he=w(h);c=x(he,"DIV",{class:!0});var P=w(c);o=x(P,"MATH-FIELD",{"smart-mode":!0,defaultmode:!0,"virtual-keyboard-mode":!0,class:!0}),w(o).forEach(p),d=C(P),f=x(P,"BUTTON",{class:!0});var ue=w(f);m=G(ue,"Solve"),ue.forEach(p),_=C(P),k=x(P,"DIV",{class:!0});var ve=w(k);E.l(ve),ve.forEach(p),P.forEach(p),he.forEach(p),this.h()},h(){q(e.src,t="https://unpkg.com/mathlive@0.73.4/dist/mathlive.min.js")||v(e,"src",t),v(e,"class","svelte-i5sevh"),v(s,"rel","stylesheet"),v(s,"href","https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"),v(s,"class","svelte-i5sevh"),l.defer=!0,q(l.src,n="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js")||v(l,"src",n),v(l,"class","svelte-i5sevh"),r.defer=!0,q(r.src,u="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js")||v(r,"src",u),v(r,"class","svelte-i5sevh"),W(o,"smart-mode",""),W(o,"defaultmode","math"),W(o,"virtual-keyboard-mode","manual"),W(o,"class","svelte-i5sevh"),v(f,"class","solve svelte-i5sevh"),v(k,"class","result svelte-i5sevh"),v(c,"class","inner_container svelte-i5sevh"),v(h,"class","container svelte-i5sevh")},m(R,N){g(document.head,e),g(document.head,s),g(document.head,l),g(document.head,r),S(R,i,N),S(R,h,N),g(h,c),g(c,o),a[6](o),g(c,d),g(c,f),g(f,m),g(c,_),g(c,k),V[D].m(k,null),I=!0,b||(M=[Y(o,"input",a[5]),Y(f,"click",a[4])],b=!0)},p(R,[N]){let B=D;D=ce(R),D===B?V[D].p(R,N):(F(),L(V[B],1,1,()=>{V[B]=null}),X(),E=V[D],E?E.p(R,N):(E=V[D]=T[D](R),E.c()),j(E,1),E.m(k,null))},i(R){I||(j(E),I=!0)},o(R){L(E),I=!1},d(R){p(e),p(s),p(l),p(r),R&&p(i),R&&p(h),a[6](null),V[D].d(),b=!1,Me(M)}}}async function lt(a){const e=await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,args:{headers:{"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`}}})}).then(t=>t.json()).then(t=>t.headers["set-cookie"].split("=")[1].split(";")[0]);return await fetch("https://apis.explosionscratc.repl.co/fetch",{method:"POST",body:JSON.stringify({url:"https://mathsolver.microsoft.com/cameraexp/api/v1/solvelatex",args:{method:"POST",headers:{accept:"application/json","accept-language":"en-US,en;q=0.9","cache-control":"no-cache","content-type":"application/json",pragma:"no-cache","sec-ch-ua":'"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Chrome OS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",cookie:`MUIDB=${e};MicrosoftApplicationsTelemetryFirstLaunchTime=${new Date(new Date-Math.random()*48*60*60*1e3).toISOString()}`,Referer:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,origin:`https://mathsolver.microsoft.com/en/solve-problem/${encodeURIComponent(a)}`,"User-Agent":"Mozilla/5.0 (X11; CrOS x86_64 14909.100.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36","Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify({latexExpression:a,clientInfo:{platform:"web",mkt:"en",skipGraphOutput:!0,skipBingVideoEntity:!0},customLatex:a,showCustomResult:!1})}})}).then(t=>t.json())}function at(a,e,t){let s;Re(a,J,o=>t(7,s=o));let l=null,n=String.raw`x = 3, y = x^2`,r=null,u={};se(()=>{window.mathField=r,r.setValue(new URLSearchParams(location.search).get("q")||n),new URLSearchParams(location.search).get("q")&&setTimeout(i),r.setOptions(H(z({},r.getOptions()),{smartSuperscript:!0,onKeystroke(o,d,f){d==="ctrl+[KeyA]"&&o.executeCommand("selectAll");const m=String.raw`\left.\begin{cases}`,_=String.raw`\end{cases}\right.`,k=String.raw`\placeholder{New equation}`,D=String.raw`\\{${k}}${_}`;if(d==="shift+[Enter]"){let I=r.value;if(I.startsWith(m)){console.log({START:m,ENDCASES:_},I.includes(_));let b=I.replace(new RegExp(`^${E(m)}`),"").replace(new RegExp(`${E(_)}$`),"");console.log(b),o.setValue(`${m}${b}${D}`)}else{let b=r.position;o.setValue(m+`{${r.value}}`+D),t(2,r.position=b+7,r)}}function E(I){return I.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}if(d==="[Backspace]"){if(r.value===String.raw`\left.\begin{cases}{}\end{cases}\right.`){r.setValue("");return}let I=r.value,b=String.raw`\\ {}`;if(console.log({val:I},I.startsWith(m),I.endsWith(b+_),b+_),I.startsWith(m)&&(I.endsWith(b+_)||I.endsWith(b+" "+_))){let M=I.replace(new RegExp(`^${E(m)}`),"").replace(new RegExp(`${E(b)}[ \\\\]*${E(_)}$`),"");console.log(M);let T=r.position;r.setValue(`${m}${M}${_}`),t(2,r.position=T-3,r)}}return d==="ctrl+[Backspace]"&&o.setValue(""),(d==="ctrl+[Enter]"||d==="[Enter]")&&i(),!0},inlineShortcuts:H(z({},r.getOptions("inlineShortcuts")),{"*":"\\cdot","**":"\\ast","***":"\\star","//":"\\slash","\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","o+":"\\oplus",ox:"\\otimes","o.":"\\odot","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceiling","~|":"\\rceiling",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail"})}))});async function i(){fe(J,s=!0,s);let d=await lt(n);t(0,l=JSON.parse(JSON.parse(d.json.results[0].tags[0].actions[0].customData).previewText).mathSolverResult),t(3,u=JSON.parse(d.json.results[0].tags[0].actions[0].customData)),console.log(u);let f=new URL(location),m=new URLSearchParams(location.search);m.set("q",l.detectedLatex),f.search=m,history.pushState({result:l},"Math solver",f),fe(J,s=!1,s)}const h=o=>t(1,n=o.target.value);function c(o){re[o?"unshift":"push"](()=>{r=o,t(2,r)})}return[l,n,r,u,i,h,c]}class vt extends Q{constructor(e){super(),ee(this,e,at,rt,te,{})}}export{vt as default};
